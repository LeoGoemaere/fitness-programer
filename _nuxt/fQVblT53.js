import{u as K,S as k,D as X,e as Ue,b as Ie,_ as Ce,c as Re}from"./BaOuTgLP.js";import{g as O,j as v,k as e,o as _,c as $,b as r,w as d,a as u,t as T,F as A,h as L,n as Z,x as I,d as N,l as re,m as q,p as ee,f as te,_ as G,z as Te,s as J,v as me,y as ae,r as se,B as ue,A as fe,C as Le,D as Be,T as Fe}from"./vgw3USUz.js";import{e as De,r as pe,u as ce,j as _e,k as Pe,l as xe,_ as Me,a as ge,b as he,m as ve,d as ye,i as Ne,n as Je}from"./DGVf7dAi.js";const be=l=>(ee("data-v-1c5cef8f"),l=l(),te(),l),Ae={key:0,class:"training-selector mb-5 mx-auto"},Oe={class:"option__left"},je={class:"option__right"},ze=be(()=>u("span",{class:"mr-3"},"Terminé",-1)),We=be(()=>u("span",{class:"mr-3"},"En cours",-1)),Ke={class:"flex items-center mx-auto"},qe={class:"flex items-center"},Ge=O({__name:"TrainingSelector",setup(l){const a=K();function V(o){a.setSelectedTrainingId(o)}function i(o){const c=o==null?void 0:o.training_exercices;return c&&c.length?c.every(n=>n.is_done):!1}const b=v(()=>a.currentTraining);return(o,c)=>{var m;const n=re,s=q,g=De;return e(a).currentWeek?(_(),$("div",Ae,[r(g,{"onUpdate:modelValue":V,modelValue:(m=e(b))==null?void 0:m.id,options:e(a).currentWeek.trainings,"option-attribute":"name","value-attribute":"id",uiMenu:{option:{padding:"p-0 w-full",container:"w-full",color:"bg-transparent",selected:"p-0",selectedIcon:{base:"hidden"}}}},{option:d(({option:t,selected:f})=>[u("div",{class:Z(["training-selector__option px-1.5 py-3",{"training-selector__option--selected":f,"training-selector__option--checked":i(t)}])},[u("div",Oe,T(t.name),1),u("div",je,[i(t)?(_(),$(A,{key:0},[ze,r(n,{name:"i-solar-check-circle-outline"})],64)):f?(_(),$(A,{key:1},[We,r(n,{name:"i-solar-dumbbell-large-minimalistic-linear"})],64)):L("",!0)])],2)]),default:d(()=>[r(s,{color:i(e(b))?"primary":"gray",variant:"outline",class:"training-selector__label",size:"xl",ui:{rounded:"rounded-full"}},{default:d(()=>{var t;return[u("div",Ke,[i(e(b))?(_(),I(n,{key:0,class:"mr-1",name:"i-solar-check-circle-outline"})):(_(),I(n,{key:1,class:"mr-1",name:"i-solar-dumbbell-large-minimalistic-linear"})),N(" "+T((t=e(b))==null?void 0:t.name),1)]),u("div",qe,[r(n,{name:"i-heroicons-chevron-down-20-solid"})])]}),_:1},8,["color"])]),_:1},8,["modelValue","options"])])):L("",!0)}}}),He=G(Ge,[["__scopeId","data-v-1c5cef8f"]]),Qe=l=>(ee("data-v-5b85f108"),l=l(),te(),l),Xe=Qe(()=>u("span",{class:"superset-divider__border superset-divider__border--bottom"},null,-1)),Ye=O({__name:"SupersetDivider",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:a}){const V=a,i=l;return(b,o)=>{const c=q;return _(),$("div",{class:Z(["superset-divider",{"superset-divider--active":i.modelValue}])},[r(c,{onClick:o[0]||(o[0]=n=>V("update:modelValue",!i.modelValue)),class:"superset-divider__button",color:i.modelValue?"primary":"gray",size:"2xs",variant:"soft",label:"superset",icon:i.modelValue?"i-solar-check-circle-linear":"i-solar-close-circle-linear"},null,8,["color","icon"]),Xe],2)}}}),Ze=G(Ye,[["__scopeId","data-v-5b85f108"]]);var Y=(l=>(l.Amrap="amrap",l))(Y||{});const Se=l=>(ee("data-v-1ce09742"),l=l(),te(),l),et={key:0,class:"perf"},tt={class:"perf__reps"},nt={key:0,class:"perf__reps-label ml-1"},it=Se(()=>u("div",{class:"perf__at mx-1"},"@",-1)),ot={class:"perf__weight"},st=Se(()=>u("div",{class:"perf__unit ml-1"},"kg",-1)),rt=O({__name:"SetPerf",props:{programSet:{}},setup(l){const a=l,V=v(()=>{const o=a.programSet.repetitions;if(o){let c=o;const n=a.programSet.personal_record;if(typeof o=="string")if(o.toLowerCase()===Y.Amrap)c=Y.Amrap.toUpperCase();else{const[s,g]=o.split("-");c=`${s} à ${g}`}return n&&(c+=" +"),c}return null}),i=v(()=>a.programSet.repetitions!==Y.Amrap),b=v(()=>typeof a.programSet.weight=="number");return(o,c)=>o.programSet?(_(),$("div",et,[e(V)?(_(),$(A,{key:0},[u("div",tt,T(e(V)),1),e(i)?(_(),$("div",nt,"reps")):L("",!0)],64)):L("",!0),e(b)?(_(),$(A,{key:1},[it,u("div",ot,T(o.programSet.weight),1),st],64)):L("",!0)])):L("",!0)}}),at=G(rt,[["__scopeId","data-v-1ce09742"]]);function Ee(){function l(){return{id:crypto.randomUUID(),type:k.Custom,repetitions:1,weight:null,exercice_max_weight_percentage:null,personal_record:!1,is_done:!1,displayable_set_information:{id:crypto.randomUUID(),type:X.Label,value:null}}}function a(n){return typeof n=="string"?/^(\d+|\d+-\d+|amrap)$/i.test(n):Number.isInteger(n)}function V(n,s,g){const m=n.sets.findIndex(S=>S.id===s.id),t=m===-1,f=n.sets[n.sets.length-1],h=t?f:n.sets[m-1];if(h){const S=l();S.id=s.id;const w=o(n,h,g);if(typeof(w==null?void 0:w.weight)=="number"){const R=pe(w.weight+w.weight*5/100,4);S.weight=R}return S.type=k.Joker,S.repetitions=w.repetitions,S.displayable_set_information.type=X.Label,S.displayable_set_information.value=k.Joker,S}return null}function i(n,s,g){const t=n.sets.findIndex(h=>h.id===s.id)===0,f=n.sets[0];if(f&&!t){const h=l(),S=o(n,f,g);return h.id=s.id,h.weight=S.weight,h.repetitions=Y.Amrap,h.type=k.FSL,h.displayable_set_information.type=X.Label,h.displayable_set_information.value=k.FSL,h}return null}function b(n,s,g){if(g){const m=l();let t=g.TM;if(s.type===k.RM&&(t=g.RM),m.id=s.id,m.weight=0,s.exercice_max_weight_percentage){m.weight=pe(s.exercice_max_weight_percentage*t,4);const f=s.exercice_max_weight_percentage*100;m.displayable_set_information.value=`${f} % ${s.type}`}return m.repetitions=s.repetitions,m.type=s.type,m.personal_record=s.personal_record,m.exercice_max_weight_percentage=s.exercice_max_weight_percentage,m.displayable_set_information.type=X.Label,m}return null}function o(n,s,g){switch(s.type){case k.Joker:return V(n,s,g)||s;case k.FSL:return i(n,s,g)||s;case k.RM:case k.TM:return b(n,s,g)||s}return s}function c(n,s){const g=n.sets.findIndex(m=>m.id===s.id);switch(s.type){case k.Joker:case k.FSL:return g!==0;default:return!0}}return{getEmptySet:l,isRepetitionsValid:a,getComputedSet:o,isFirstSetTypeValid:c}}const le=l=>(ee("data-v-39eaf07f"),l=l(),te(),l),ct={class:"flex items-center justify-between"},lt={class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"},dt={key:0,class:"text-base leading-6 text-gray-900 dark:text-white"},ut={class:"flex items-end"},pt=le(()=>u("span",{class:"edition__perfs-at"},"@",-1)),_t=le(()=>u("span",{class:"text-gray-500 dark:text-gray-400 text-xs"},"Kg",-1)),mt={class:"text-gray-500 dark:text-gray-400 text-[10px]"},ft=le(()=>u("span",{class:"text-gray-500 dark:text-gray-400 text-xs"},"% décimal",-1)),xt={key:0,class:"flex items-end"},gt={key:1,class:"flex items-end"},ht={class:"flex justify-center mt-5"},vt=O({__name:"EditionSetPopin",props:{modelValue:{type:Boolean,default:!1},trainingExercice:{},exerciceSet:{},isEdition:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:a}){const V=a,i=l,b=ce(),o=K(),{getEmptySet:c,isRepetitionsValid:n,getComputedSet:s,isFirstSetTypeValid:g}=Ee(),{t:m}=Te(),t=J(c()),f=v(()=>{switch(t.value.type){case k.Joker:case k.FSL:return!0;default:return!1}}),h=v(()=>{switch(t.value.type){case k.RM:case k.TM:return!0;default:return!1}}),S=v(()=>b.exercices.find(y=>y.id===i.trainingExercice.exercice_id)),w=v(()=>i.trainingExercice.sets.findIndex(y=>{var p;return y.id===((p=i.exerciceSet)==null?void 0:p.id)})),R=v(()=>s(i.trainingExercice,t.value,S.value)),U=v(()=>i.isEdition?"Edition d'une série":"Créer une série"),B=v(()=>{if(S.value){const y=w.value>-1?w.value+1:i.trainingExercice.sets.length+1;return`${S.value.name}, série n°${y}`}return null}),x=v(()=>{switch(t.value.type){case k.Custom:case k.FSL:case k.Joker:return!0;default:return!1}}),E=v(()=>{switch(t.value.type){case k.RM:case k.TM:return!0;default:return!1}}),C=v(()=>{var y,p;switch(t.value.type){case k.RM:return((y=S.value)==null?void 0:y.RM)||0;case k.TM:return((p=S.value)==null?void 0:p.TM)||0}return 0});function P(){i.isEdition?o.updateProgramSet(t.value,i.trainingExercice):o.addProgramSet(t.value,i.trainingExercice),j()}function j(){V("update:modelValue",!1)}const H=v(()=>Object.values(k).map(y=>({id:y,label:m(`exerciceSet.type.${y}`)}))),W=v(()=>[X.Label].map(y=>({id:y,label:m(`exerciceSet.information.type.${y}`)})));function ne(y){const M=!isNaN(Number(y))?Number(y):y;t.value.repetitions=M}function ie(y){const p=[];return y.repetitions||p.push({path:"perf",message:"Les répétitions sont requise."}),n(y.repetitions)||p.push({path:"perf",message:"Formats valides : xx, xx-xx ou amrap."}),g(i.trainingExercice,y)||p.push({path:"type",message:"Ce type de série ne peut pas être en 1ère position."}),E.value&&!Pe(y.exercice_max_weight_percentage)&&p.push({path:"perf",message:`Le ${y.type} % doit être compris entre 0 et 1.`}),p}function oe(){i.exerciceSet?t.value=JSON.parse(JSON.stringify(i.exerciceSet)):t.value=c()}return me(()=>i.modelValue,y=>{y&&oe()}),(y,p)=>{const M=q,Q=Ue,F=Ie,z=Ce,de=xe,Ve=Me,we=ge,$e=he;return _(),I($e,{"model-value":i.modelValue,"onUpdate:modelValue":j,ui:{container:"items-center"}},{default:d(()=>[r(we,{ui:{body:{base:"border-solid"}}},{header:d(()=>[u("div",ct,[u("h3",lt,T(e(U)),1),r(M,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",onClick:j})]),e(B)?(_(),$("p",dt,T(e(B)),1)):L("",!0)]),default:d(()=>[r(Ve,{validate:ie,state:e(t),class:"space-y-4",onSubmit:P},{default:d(()=>[u("div",null,[r(F,{label:"Type de série",name:"type"},{default:d(()=>[r(Q,{options:e(H),"option-attribute":"label","value-attribute":"id",modelValue:e(t).type,"onUpdate:modelValue":p[0]||(p[0]=D=>e(t).type=D)},null,8,["options","modelValue"])]),_:1})]),u("div",null,[r(F,{name:"perf"},{default:d(()=>[u("div",ut,[e(f)?(_(),I(F,{key:0,class:"edition__perf-item",label:"Répetitions"},{default:d(()=>[r(z,{type:"text",disabled:!0,modelValue:e(R).repetitions},null,8,["modelValue"])]),_:1})):(_(),I(F,{key:1,class:"edition__perf-item",label:"Répetitions"},{default:d(()=>[r(z,{placeholder:"10",type:"text",onChange:ne,modelValue:e(t).repetitions,"validate-on":["change"]},null,8,["modelValue"])]),_:1})),pt,e(x)?(_(),$(A,{key:2},[e(f)?(_(),I(F,{key:0,class:"edition__perf-item",label:"Weight"},{default:d(()=>[r(z,{type:"text",disabled:!0,modelValue:e(R).weight},null,8,["modelValue"])]),_:1})):(_(),I(F,{key:1,class:"edition__perf-item",label:"Weight"},{default:d(()=>[r(z,{placeholder:"80",type:"number",step:"0.01",onKeydown:e(_e),modelValue:e(t).weight,"onUpdate:modelValue":p[1]||(p[1]=D=>e(t).weight=D)},{trailing:d(()=>[_t]),_:1},8,["onKeydown","modelValue"])]),_:1}))],64)):L("",!0),e(E)?(_(),I(F,{key:3,class:"edition__perf-item"},{label:d(()=>[u("p",null,[N(" % "+T(e(t).type)+" - ",1),u("span",mt,"Exercice "+T(e(t).type)+" "+T(e(C))+"kg",1)])]),default:d(()=>[r(z,{placeholder:"0.7",type:"number",step:"0.01",onKeydown:e(_e),modelValue:e(t).exercice_max_weight_percentage,"onUpdate:modelValue":p[2]||(p[2]=D=>e(t).exercice_max_weight_percentage=D)},{trailing:d(()=>[ft]),_:1},8,["onKeydown","modelValue"])]),_:1})):L("",!0)])]),_:1}),e(f)?(_(),I(de,{key:0,class:"mt-2",modelValue:e(R).personal_record,"onUpdate:modelValue":p[3]||(p[3]=D=>e(R).personal_record=D),name:"isPR",label:"Record personnel (PR)",disabled:!0},null,8,["modelValue"])):(_(),I(de,{key:1,class:"mt-2",modelValue:e(t).personal_record,"onUpdate:modelValue":p[4]||(p[4]=D=>e(t).personal_record=D),name:"isPR",label:"Record personnel (PR)"},null,8,["modelValue"]))]),u("div",null,[e(f)||e(h)?(_(),$("div",xt,[r(F,{class:"flex-1",label:"Infos affichable"},{default:d(()=>[r(Q,{class:"flex-1","option-attribute":"label","value-attribute":"id",options:e(W),modelValue:e(R).displayable_set_information.type,disabled:!0},null,8,["options","modelValue"])]),_:1}),r(F,{class:"flex-1"},{default:d(()=>[r(z,{class:"ml-1 flex-1",modelValue:e(R).displayable_set_information.value,disabled:!0},null,8,["modelValue"])]),_:1})])):(_(),$("div",gt,[r(F,{class:"flex-1",label:"Infos affichable"},{default:d(()=>[r(Q,{class:"flex-1",options:e(W),"option-attribute":"label","value-attribute":"id",modelValue:e(t).displayable_set_information.type},null,8,["options","modelValue"])]),_:1}),r(F,{class:"flex-1"},{default:d(()=>[r(z,{class:"ml-1 flex-1",placeholder:"Label",modelValue:e(t).displayable_set_information.value,"onUpdate:modelValue":p[5]||(p[5]=D=>e(t).displayable_set_information.value=D)},null,8,["modelValue"])]),_:1})]))]),u("div",ht,[r(M,{type:"submit"},{default:d(()=>[N("Valider")]),_:1})])]),_:1},8,["state"])]),_:1})]),_:1},8,["model-value"])}}}),ke=G(vt,[["__scopeId","data-v-39eaf07f"]]),yt={class:"setitem__left"},bt={class:"setitem__counter"},St={class:"setitem__right"},Et={key:1,class:"setitem__label"},kt=O({__name:"SetItem",props:{check:{type:Boolean,default:!1},programSet:{},trainingExercice:{}},setup(l){const a=l,V=K(),{getComputedSet:i,isFirstSetTypeValid:b}=Ee(),o=ce(),c=J(!1),n=J(!1),s=v(()=>{var U,B;return(B=(U=f.value)==null?void 0:U.displayable_set_information)==null?void 0:B.value}),g=v(()=>a.trainingExercice.sets.findIndex(U=>U.id===a.programSet.id)),m=v(()=>g.value+1),t=v(()=>o.exercices.find(U=>U.id===a.trainingExercice.exercice_id)),f=v(()=>i(a.trainingExercice,a.programSet,t.value)),h=v(()=>a.trainingExercice.is_done);function S(U){U&&(n.value=!1)}const w=v(()=>{if(b(a.trainingExercice,f.value))switch(f.value.type){case k.FSL:return{color:"violet",isBadge:!0};case k.Joker:return{color:"emerald",isBadge:!0}}return{color:null,isBadge:!1}});function R(){const U=n.value;return[[{label:"Editer",icon:"i-heroicons-pencil-square",click:()=>{c.value=!0}}],[{label:U?"Confirmer":"Supprimer",icon:"i-heroicons-trash",iconClass:U?"text-red-400":null,labelClass:U?"text-red-400":null,click:B=>{if(B.preventDefault(),n.value){V.deleteProgramSet(a.programSet,a.trainingExercice);return}n.value=!0}}]]}return(U,B)=>{const x=at,E=ve,C=q,P=ye,j=re,H=ke;return e(f)?(_(),$("div",{key:0,class:Z(["setitem p-3",{"setitem--check":e(h)}])},[u("div",yt,[u("span",bt,T(e(m)),1),r(x,{class:"setitem__perf",programSet:e(f)},null,8,["programSet"])]),u("div",St,[e(w).isBadge?(_(),I(E,{key:0,size:"xs",label:e(s),color:e(w).color},null,8,["label","color"])):(_(),$("div",Et,T(e(s)),1)),r(P,{ui:{padding:"border-solid",item:{base:"border-solid"}},items:R(),popper:{placement:"bottom-start"},"onUpdate:open":S},{default:d(()=>[r(C,{class:"setitem__options mx-2",icon:"i-heroicons-ellipsis-horizontal",size:"sm",color:"gray",variant:"soft"})]),_:1},8,["items"]),e(h)?(_(),I(j,{key:2,class:"setitem__check",name:"i-solar-check-read-outline"})):L("",!0)]),r(H,{modelValue:e(c),"onUpdate:modelValue":B[0]||(B[0]=W=>ae(c)?c.value=W:null),"exercice-set":U.programSet,"training-exercice":a.trainingExercice,"is-edition":!0},null,8,["modelValue","exercice-set","training-exercice"])],2)):L("",!0)}}}),Vt=G(kt,[["__scopeId","data-v-2daa1410"]]),wt={class:"flex items-center justify-between"},$t={class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"},Ut={class:"justify-center flex"},It=O({__name:"AddExercicePopin",props:{modelValue:{type:Boolean,default:!1},trainingExercice:{},isRecommendation:{type:Boolean},exercicesList:{}},emits:["update:modelValue"],setup(l,{emit:a}){const V=a,i=l,b=K(),o=J(null);function c(){V("update:modelValue",!1)}function n(){var f;let t=JSON.parse(JSON.stringify(i.trainingExercice));if(t.exercice_id=(f=o.value)==null?void 0:f.id,i.isRecommendation){const h=t.recommended_training_exercices.find(S=>{var w;return S.exercice_id===((w=o.value)==null?void 0:w.id)});t.sets=(h==null?void 0:h.sets)||[]}t.is_done=!1,b.updateTrainingExercice(t),c()}const s=v(()=>i.trainingExercice.exercice_id?"Changer d'exercice":"Ajouter un exercice"),g=v(()=>i.isRecommendation?"Recommandations du coach :":"Exercices");me(()=>i.modelValue,t=>{t||(o.value=null)});const m=v(()=>{let t="items-center px-0 pb-0 pt-14",f="rounded-b-none";return i.isRecommendation&&(t+=" h-full",f+=" h-full"),{container:t,height:f}});return(t,f)=>{const h=q,S=Ne,w=ge,R=he;return _(),I(R,{"model-value":i.modelValue,"onUpdate:modelValue":c,ui:e(m)},{default:d(()=>[r(w,{ui:{base:"h-full flex flex-col",body:{base:"border-solid flex-1 border-b-none"}}},{header:d(()=>[u("div",wt,[u("h3",$t,T(e(s)),1),r(h,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",onClick:c})])]),footer:d(()=>[u("div",Ut,[se(t.$slots,"footer-action"),r(h,{type:"button",disabled:!e(o),color:e(o)?"primary":"gray",onClick:n},{default:d(()=>[N("Valider")]),_:1},8,["disabled","color"])])]),default:d(()=>[se(t.$slots,"header-action"),r(S,{muscle:"All",selectable:!0,"selected-exercice":e(o),"onUpdate:selectedExercice":f[0]||(f[0]=U=>ae(o)?o.value=U:null),title:e(g),filterable:!i.isRecommendation,"exercices-list":i.exercicesList},null,8,["selected-exercice","title","filterable","exercices-list"]),se(t.$slots,"default")]),_:3})]),_:3},8,["model-value","ui"])}}}),Ct={key:0,class:"c-accordion__container"},Rt={class:"c-accordion-heading"},Tt={class:"c-accordion-heading__content"},Lt={class:"c-accordion-heading__left"},Bt={class:"text-sm"},Ft={class:"c-accordion-heading__trailing"},Dt={class:"c-accordion-heading__content"},Pt={class:"c-accordion-heading__left"},Mt={class:"c-accordion-heading__trailing"},Nt={class:"flex justify-center"},Jt=O({__name:"TrainingExercice",props:{trainingExercice:{},trainingIndex:{},supersetUp:{type:Boolean,default:!1},supersetDown:{type:Boolean,default:!1}},setup(l){const a=l,V=ce(),i=K(),b=J(!1),o=J(!1),c=J(!1),n=J(!1),s=v(()=>V.exercices.find(x=>x.id===a.trainingExercice.exercice_id)),g=v(()=>a.trainingExercice.recommended_training_exercices.map(E=>V.exercices.find(P=>P.id===E.exercice_id)).filter(E=>E&&E.id!==a.trainingExercice.exercice_id)),m=v(()=>V.exercices.filter(x=>!a.trainingExercice.recommended_training_exercices.map(P=>P.exercice_id).includes(x.id)&&x.id!==a.trainingExercice.exercice_id)),t=v(()=>a.trainingExercice.recommended_training_exercices.length),f=v(()=>a.supersetDown||a.supersetUp);function h(){const x=JSON.parse(JSON.stringify(a.trainingExercice));x.is_done=!x.is_done,i.updateTrainingExercice(x)}function S(x){o.value=x,c.value=!x}function w(x){if(!x){c.value=!1,o.value=!1;return}c.value=x,o.value=!x}function R(x){if(t.value){w(x);return}S(x)}function U(x){x&&(n.value=!1)}function B(){const x=n.value;return[[{label:"Changer d'exercice",icon:"i-solar-refresh-outline",click:()=>{R(!0)}}],[{label:x?"Confirmer":"Supprimer",icon:"i-heroicons-trash",iconClass:x?"text-red-400":null,labelClass:x?"text-red-400":null,click:E=>{if(E.preventDefault(),n.value){const C=JSON.parse(JSON.stringify(a.trainingExercice));C.exercice_id=null,i.updateTrainingExercice(C);return}n.value=!0}}]]}return(x,E)=>{const C=q,P=xe,j=ve,H=ye,W=re,ne=Vt,ie=Je,oe=ke,y=It;return _(),$("div",{class:Z(["c-accordion",{"c-accordion--top-radiusless":x.supersetUp,"c-accordion--bottom-radiusless":x.supersetDown}])},[e(s)?(_(),I(ie,{key:1,items:[a.trainingExercice],ui:{container:"c-accordion__container",item:{padding:"p-0"}}},{default:d(({item:p,index:M,open:Q})=>[r(C,{color:"gray",variant:"ghost",class:Z(["c-accordion-heading",{"c-accordion-heading--active":Q,"c-accordion-heading--check":p.is_done}]),ui:{}},{leading:d(()=>[u("div",{onClick:ue(h,["stop"]),class:"c-accordion__leading p-3"},[r(P,{color:"primary","model-value":p.is_done,ui:{}},null,8,["model-value"])])]),default:d(()=>[u("div",Dt,[u("div",Pt,[u("span",null,T(x.trainingIndex+1)+". "+T(e(s).name),1)]),u("div",Mt,[e(f)?(_(),I(j,{key:0,color:"white",variant:"solid",size:"xs"},{default:d(()=>[N("Superset")]),_:1})):L("",!0),r(H,{onClick:E[1]||(E[1]=ue(()=>{},["prevent","stop"])),ui:{padding:"border-solid",item:{base:"border-solid"}},items:B(),popper:{placement:"bottom-start"},"onUpdate:open":U},{default:d(()=>[r(C,{class:"setitem__options mx-2",icon:"i-solar-menu-dots-bold",size:"sm",color:"gray",variant:"soft"})]),_:1},8,["items"]),r(W,{name:"i-heroicons-chevron-right-20-solid",class:"c-accordion-heading__chevron"})])])]),_:2},1032,["class"])]),item:d(({item:p})=>[(_(!0),$(A,null,fe(p.sets,M=>(_(),I(ne,{key:M.id,"program-set":M,"training-exercice":p},null,8,["program-set","training-exercice"]))),128)),r(C,{onClick:E[2]||(E[2]=M=>b.value=!0),icon:"i-heroicons-pencil-square",variant:"soft",label:"Créer une série",class:"mt-3 mb-6 mx-3",trailing:!1,color:p.is_done?"white":"primary",disabled:p.is_done},null,8,["color","disabled"])]),_:1},8,["items"])):(_(),$("div",Ct,[u("div",Rt,[u("div",Tt,[u("div",Lt,[u("span",Bt,"Exercice "+T(x.trainingIndex+1),1)]),u("div",Ft,[r(C,{icon:"i-heroicons-plus-circle",onClick:E[0]||(E[0]=p=>R(!0))},{default:d(()=>[N("Ajouter")]),_:1})])])])])),r(oe,{modelValue:e(b),"onUpdate:modelValue":E[3]||(E[3]=p=>ae(b)?b.value=p:null),"training-exercice":a.trainingExercice,"is-edition":!1},null,8,["modelValue","training-exercice"]),r(y,{"onUpdate:modelValue":w,"model-value":e(c),"training-exercice":a.trainingExercice,"is-recommendation":!0,"exercices-list":e(g)},{default:d(()=>[u("div",Nt,[r(C,{variant:"ghost",icon:"i-heroicons-plus",onClick:E[4]||(E[4]=p=>S(!0))},{default:d(()=>[N("Choisir un autre exercice")]),_:1})])]),_:1},8,["model-value","training-exercice","exercices-list"]),r(y,{"onUpdate:modelValue":w,"model-value":e(o),"training-exercice":a.trainingExercice,"exercices-list":e(m)},Le({_:2},[e(t)?{name:"header-action",fn:d(()=>[r(C,{type:"button",icon:"i-heroicons-arrow-left",class:"mb-3",variant:"soft",onClick:E[5]||(E[5]=p=>S(!1))},{default:d(()=>[N("Retour")]),_:1})]),key:"0"}:void 0,e(t)?{name:"footer-action",fn:d(()=>[r(C,{type:"button",icon:"i-heroicons-arrow-left",class:"mr-3",variant:"soft",onClick:E[6]||(E[6]=p=>S(!1))},{default:d(()=>[N("Retour")]),_:1})]),key:"1"}:void 0]),1032,["model-value","training-exercice","exercices-list"])],2)}}}),At=Be("supersetsStore",()=>{const l=J([]);function a(b){const[o,c]=b;o&&c&&(l.value.find(s=>s.includes(o)&&s.includes(c))||l.value.push(b))}function V(b){const[o,c]=b;l.value=l.value.filter(n=>!(n.includes(o)&&n.includes(c)))}function i(b){const[o,c]=b;return l.value.find(n=>n.includes(o)&&n.includes(c))}return{supersetExercices:l,addSupersetExercice:a,deleteSupersetExercice:V,getSupersetExercice:i}},{persist:!0}),Ot=O({__name:"index",setup(l){const a=K(),V=At(),i=v(()=>a.currentTraining.training_exercices);function b(c){const n=i.value[c],s=i.value[c-1],g=[n.id,s.id];V.getSupersetExercice(g)?V.deleteSupersetExercice(g):V.addSupersetExercice(g)}function o(c){if(c===0||c>i.value.length-1)return!1;const n=i.value[c],s=i.value[c-1],g=[n.id,s.id];return!!V.getSupersetExercice(g)}return(c,n)=>{const s=Re,g=He,m=Ze,t=Jt;return _(),$("div",null,[r(s,{title:"Entrainements"}),u("div",null,[r(g),r(Fe,{mode:"out-in",name:"slide-fade"},{default:d(()=>[(_(),$("div",{key:e(a).currentTraining.id},[(_(!0),$(A,null,fe(e(i),(f,h)=>(_(),$(A,{key:f.id},[h!==0?(_(),I(m,{key:0,"onUpdate:modelValue":S=>b(h),"model-value":o(h)},null,8,["onUpdate:modelValue","model-value"])):L("",!0),r(t,{"training-exercice":f,"training-index":h,"superset-down":o(h+1),"superset-up":o(h)},null,8,["training-exercice","training-index","superset-down","superset-up"])],64))),128))]))]),_:1})])])}}}),Kt=G(Ot,[["__scopeId","data-v-35731d33"]]);export{Kt as default};
