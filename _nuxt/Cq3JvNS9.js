import{at as p,s as a}from"./B7hC0jM-.js";import{c as m}from"./CPQp_N9D.js";const S=p("exercicesStore",()=>{const s=a(m),r=a([]);function n(e){const i=s.value.findIndex(c=>c.id===e.id);i>=0&&(s.value[i]=e)}function d(e){s.value.some(c=>c.id===e.id)||s.value.push(e)}function u(e){const i=e.filter(c=>!s.value.some(t=>c.id===t.id));return i.length&&s.value.push(...i),i}function o(e){s.value.some(c=>c.id===e.id)?n(e):d(e)}function x(e){s.value=s.value.filter(i=>i.id!==e.id)}function f(e){r.value.find(c=>c.id===e.id)||r.value.push(e)}function l(e){const i=r.value.findIndex(c=>c.id===e.id);i>=0&&(r.value[i]=e)}function E(e){r.value=r.value.filter(c=>c.id!==e.id),s.value.filter(c=>c.tag_ids.includes(e.id)).forEach(c=>{const t=JSON.parse(JSON.stringify(c));t.tag_ids=t.tag_ids.filter(g=>g!==e.id),n(t)})}function v(e){return r.value.filter(i=>e.tag_ids.includes(i.id))}return{exercices:s,exerciceTags:r,updateExercice:n,addExercice:d,addOrUpdateExercice:o,removeExercice:x,addExercicesList:u,addExerciceTag:f,updateExerciceTag:l,removeExerciceTag:E,getTagFromExercice:v}},{persist:!0});export{S as u};
