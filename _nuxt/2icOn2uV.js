import{u as K,S as E,D as Q,e as Ue,b as Ie,_ as Ce,f as me,c as Le}from"./DLC2dHQc.js";import{g as O,j as v,k as e,o as _,c as U,b as r,w as u,a as d,t as R,F as A,h as T,n as Y,x as I,d as J,l as se,m as q,p as ee,f as te,_ as Z,z as Re,s as N,v as fe,y as re,r as de,B as ue,A as xe,C as Te,D as Be}from"./B_u0crLZ.js";import{e as Fe,r as pe,u as ce,j as _e,k as De,l as ge,_ as Pe,a as he,b as ve,d as ye,h as Me,m as Ne}from"./CM14mL-D.js";const be=l=>(ee("data-v-7b93ee81"),l=l(),te(),l),Je={key:0,class:"training-selector mb-5 mx-auto"},Ae={class:"option__left"},Oe={class:"option__right"},je=be(()=>d("span",{class:"mr-3"},"Terminé",-1)),ze=be(()=>d("span",{class:"mr-3"},"En cours",-1)),We={class:"flex items-center mx-auto"},Ke={class:"flex items-center"},qe=O({__name:"TrainingSelector",setup(l){const c=K();function k(o){c.setSelectedTrainingId(o)}function i(o){const a=o==null?void 0:o.training_exercices;return a&&a.length?a.every(n=>n.is_done):!1}const b=v(()=>c.currentTraining);return(o,a)=>{var m;const n=se,s=q,g=Fe;return e(c).currentWeek?(_(),U("div",Je,[r(g,{"onUpdate:modelValue":k,modelValue:(m=e(b))==null?void 0:m.id,options:e(c).currentWeek.trainings,"option-attribute":"name","value-attribute":"id",uiMenu:{option:{padding:"p-0 w-full",container:"w-full",color:"bg-transparent",selected:"p-0",selectedIcon:{base:"hidden"}}}},{option:u(({option:t,selected:f})=>[d("div",{class:Y(["training-selector__option p-1.5",{"training-selector__option--selected":f,"training-selector__option--checked":i(t)}])},[d("div",Ae,R(t.name),1),d("div",Oe,[i(t)?(_(),U(A,{key:0},[je,r(n,{name:"i-solar-check-circle-outline"})],64)):f?(_(),U(A,{key:1},[ze,r(n,{name:"i-solar-dumbbell-large-minimalistic-linear"})],64)):T("",!0)])],2)]),default:u(()=>[r(s,{color:i(e(b))?"primary":"gray",variant:"outline",class:"training-selector__label",size:"lg",ui:{rounded:"rounded-full"}},{default:u(()=>{var t;return[d("div",We,[i(e(b))?(_(),I(n,{key:0,class:"mr-1",name:"i-solar-check-circle-outline"})):(_(),I(n,{key:1,class:"mr-1",name:"i-solar-dumbbell-large-minimalistic-linear"})),J(" "+R((t=e(b))==null?void 0:t.name),1)]),d("div",Ke,[r(n,{name:"i-heroicons-chevron-down-20-solid"})])]}),_:1},8,["color"])]),_:1},8,["modelValue","options"])])):T("",!0)}}}),Ge=Z(qe,[["__scopeId","data-v-7b93ee81"]]),He=l=>(ee("data-v-5b85f108"),l=l(),te(),l),Qe=He(()=>d("span",{class:"superset-divider__border superset-divider__border--bottom"},null,-1)),Xe=O({__name:"SupersetDivider",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:c}){const k=c,i=l;return(b,o)=>{const a=q;return _(),U("div",{class:Y(["superset-divider",{"superset-divider--active":i.modelValue}])},[r(a,{onClick:o[0]||(o[0]=n=>k("update:modelValue",!i.modelValue)),class:"superset-divider__button",color:i.modelValue?"primary":"gray",size:"2xs",variant:"soft",label:"superset",icon:i.modelValue?"i-solar-check-circle-linear":"i-solar-close-circle-linear"},null,8,["color","icon"]),Qe],2)}}}),Ye=Z(Xe,[["__scopeId","data-v-5b85f108"]]);var X=(l=>(l.Amrap="amrap",l))(X||{});const Se=l=>(ee("data-v-1ce09742"),l=l(),te(),l),Ze={key:0,class:"perf"},et={class:"perf__reps"},tt={key:0,class:"perf__reps-label ml-1"},nt=Se(()=>d("div",{class:"perf__at mx-1"},"@",-1)),it={class:"perf__weight"},ot=Se(()=>d("div",{class:"perf__unit ml-1"},"kg",-1)),st=O({__name:"SetPerf",props:{programSet:{}},setup(l){const c=l,k=v(()=>{const o=c.programSet.repetitions;if(o){let a=o;const n=c.programSet.personal_record;if(typeof o=="string")if(o.toLowerCase()===X.Amrap)a=X.Amrap.toUpperCase();else{const[s,g]=o.split("-");a=`${s} à ${g}`}return n&&(a+=" +"),a}return null}),i=v(()=>c.programSet.repetitions!==X.Amrap),b=v(()=>typeof c.programSet.weight=="number");return(o,a)=>o.programSet?(_(),U("div",Ze,[e(k)?(_(),U(A,{key:0},[d("div",et,R(e(k)),1),e(i)?(_(),U("div",tt,"reps")):T("",!0)],64)):T("",!0),e(b)?(_(),U(A,{key:1},[nt,d("div",it,R(o.programSet.weight),1),ot],64)):T("",!0)])):T("",!0)}}),rt=Z(st,[["__scopeId","data-v-1ce09742"]]);function Ee(){function l(){return{id:crypto.randomUUID(),type:E.Custom,repetitions:1,weight:null,exercice_max_weight_percentage:null,personal_record:!1,is_done:!1,displayable_set_information:{id:crypto.randomUUID(),type:Q.Label,value:null}}}function c(n){return typeof n=="string"?/^(\d+|\d+-\d+|amrap)$/i.test(n):Number.isInteger(n)}function k(n,s,g){const m=n.sets.findIndex(S=>S.id===s.id),t=m===-1,f=n.sets[n.sets.length-1],h=t?f:n.sets[m-1];if(h){const S=l();S.id=s.id;const w=o(n,h,g);if(typeof(w==null?void 0:w.weight)=="number"){const C=pe(w.weight+w.weight*5/100,4);S.weight=C}return S.type=E.Joker,S.repetitions=w.repetitions,S.displayable_set_information.type=Q.Label,S.displayable_set_information.value=E.Joker,S}return null}function i(n,s,g){const t=n.sets.findIndex(h=>h.id===s.id)===0,f=n.sets[0];if(f&&!t){const h=l(),S=o(n,f,g);return h.id=s.id,h.weight=S.weight,h.repetitions=X.Amrap,h.type=E.FSL,h.displayable_set_information.type=Q.Label,h.displayable_set_information.value=E.FSL,h}return null}function b(n,s,g){if(g){const m=l();let t=g.TM;if(s.type===E.RM&&(t=g.RM),m.id=s.id,m.weight=0,s.exercice_max_weight_percentage){m.weight=pe(s.exercice_max_weight_percentage*t,4);const f=s.exercice_max_weight_percentage*100;m.displayable_set_information.value=`${f} % ${s.type}`}return m.repetitions=s.repetitions,m.type=s.type,m.personal_record=s.personal_record,m.exercice_max_weight_percentage=s.exercice_max_weight_percentage,m.displayable_set_information.type=Q.Label,m}return null}function o(n,s,g){switch(s.type){case E.Joker:return k(n,s,g)||s;case E.FSL:return i(n,s,g)||s;case E.RM:case E.TM:return b(n,s,g)||s}return s}function a(n,s){const g=n.sets.findIndex(m=>m.id===s.id);switch(s.type){case E.Joker:case E.FSL:return g!==0;default:return!0}}return{getEmptySet:l,isRepetitionsValid:c,getComputedSet:o,isFirstSetTypeValid:a}}const ae=l=>(ee("data-v-83388d4e"),l=l(),te(),l),ct={class:"flex items-center justify-between"},at={class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"},lt={key:0,class:"text-base leading-6 text-gray-900 dark:text-white"},dt={class:"flex items-end"},ut=ae(()=>d("span",{class:"edition__perfs-at"},"@",-1)),pt=ae(()=>d("span",{class:"text-gray-500 dark:text-gray-400 text-xs"},"Kg",-1)),_t={class:"text-gray-500 dark:text-gray-400 text-[10px]"},mt=ae(()=>d("span",{class:"text-gray-500 dark:text-gray-400 text-xs"},"% décimal",-1)),ft={key:0,class:"flex items-end"},xt={key:1,class:"flex items-end"},gt={class:"flex justify-center mt-5"},ht=O({__name:"EditionSetPopin",props:{modelValue:{type:Boolean,default:!1},trainingExercice:{},exerciceSet:{},isEdition:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:c}){const k=c,i=l,b=ce(),o=K(),{getEmptySet:a,isRepetitionsValid:n,getComputedSet:s,isFirstSetTypeValid:g}=Ee(),{t:m}=Re(),t=N(a()),f=v(()=>{switch(t.value.type){case E.Joker:case E.FSL:return!0;default:return!1}}),h=v(()=>{switch(t.value.type){case E.RM:case E.TM:return!0;default:return!1}}),S=v(()=>b.exercices.find(y=>y.id===i.trainingExercice.exercice_id)),w=v(()=>i.trainingExercice.sets.findIndex(y=>{var p;return y.id===((p=i.exerciceSet)==null?void 0:p.id)})),C=v(()=>s(i.trainingExercice,t.value,S.value)),$=v(()=>i.isEdition?"Edition d'une série":"Créer une série"),B=v(()=>{if(S.value){const y=w.value>-1?w.value+1:i.trainingExercice.sets.length+1;return`${S.value.name}, série n°${y}`}return null}),x=v(()=>{switch(t.value.type){case E.Custom:case E.FSL:case E.Joker:return!0;default:return!1}}),V=v(()=>{switch(t.value.type){case E.RM:case E.TM:return!0;default:return!1}}),L=v(()=>{var y,p;switch(t.value.type){case E.RM:return((y=S.value)==null?void 0:y.RM)||0;case E.TM:return((p=S.value)==null?void 0:p.TM)||0}return 0});function P(){i.isEdition?o.updateProgramSet(t.value,i.trainingExercice):o.addProgramSet(t.value,i.trainingExercice),j()}function j(){k("update:modelValue",!1)}const G=v(()=>Object.values(E).map(y=>({id:y,label:m(`exerciceSet.type.${y}`)}))),W=v(()=>[Q.Label].map(y=>({id:y,label:m(`exerciceSet.information.type.${y}`)})));function ne(y){const M=!isNaN(Number(y))?Number(y):y;t.value.repetitions=M}function ie(y){const p=[];return y.repetitions||p.push({path:"perf",message:"Les répétitions sont requise"}),n(y.repetitions)||p.push({path:"perf",message:"Formats valides : xx, xx-xx ou amrap"}),g(i.trainingExercice,y)||p.push({path:"type",message:"Ce type de série ne peut pas être en 1ère position !!!!!"}),V.value&&!De(y.exercice_max_weight_percentage)&&p.push({path:"perf",message:`Le ${y.type} % doit être compris entre 0 et 1`}),p}function oe(){i.exerciceSet?t.value=JSON.parse(JSON.stringify(i.exerciceSet)):t.value=a()}return fe(()=>i.modelValue,y=>{y&&oe()}),(y,p)=>{const M=q,H=Ue,F=Ie,z=Ce,le=ge,Ve=Pe,we=he,$e=ve;return _(),I($e,{"model-value":i.modelValue,"onUpdate:modelValue":j,ui:{container:"items-center"}},{default:u(()=>[r(we,{ui:{body:{base:"border-solid"}}},{header:u(()=>[d("div",ct,[d("h3",at,R(e($)),1),r(M,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",onClick:j})]),e(B)?(_(),U("p",lt,R(e(B)),1)):T("",!0)]),default:u(()=>[r(Ve,{validate:ie,state:e(t),class:"space-y-4",onSubmit:P},{default:u(()=>[d("div",null,[r(F,{label:"Type de série",name:"type"},{default:u(()=>[r(H,{options:e(G),"option-attribute":"label","value-attribute":"id",modelValue:e(t).type,"onUpdate:modelValue":p[0]||(p[0]=D=>e(t).type=D)},null,8,["options","modelValue"])]),_:1})]),d("div",null,[r(F,{name:"perf"},{default:u(()=>[d("div",dt,[e(f)?(_(),I(F,{key:0,class:"edition__perf-item",label:"Répetitions"},{default:u(()=>[r(z,{type:"text",disabled:!0,modelValue:e(C).repetitions},null,8,["modelValue"])]),_:1})):(_(),I(F,{key:1,class:"edition__perf-item",label:"Répetitions"},{default:u(()=>[r(z,{placeholder:"10",type:"text",onChange:ne,modelValue:e(t).repetitions,"validate-on":["change"]},null,8,["modelValue"])]),_:1})),ut,e(x)?(_(),U(A,{key:2},[e(f)?(_(),I(F,{key:0,class:"edition__perf-item",label:"Weight"},{default:u(()=>[r(z,{type:"text",disabled:!0,modelValue:e(C).weight},null,8,["modelValue"])]),_:1})):(_(),I(F,{key:1,class:"edition__perf-item",label:"Weight"},{default:u(()=>[r(z,{placeholder:"80",type:"number",step:"0.01",onKeydown:e(_e),modelValue:e(t).weight,"onUpdate:modelValue":p[1]||(p[1]=D=>e(t).weight=D)},{trailing:u(()=>[pt]),_:1},8,["onKeydown","modelValue"])]),_:1}))],64)):T("",!0),e(V)?(_(),I(F,{key:3,class:"edition__perf-item"},{label:u(()=>[d("p",null,[J(" % "+R(e(t).type)+" - ",1),d("span",_t,"Exercice "+R(e(t).type)+" "+R(e(L))+"kg",1)])]),default:u(()=>[r(z,{placeholder:"0.7",type:"number",step:"0.01",onKeydown:e(_e),modelValue:e(t).exercice_max_weight_percentage,"onUpdate:modelValue":p[2]||(p[2]=D=>e(t).exercice_max_weight_percentage=D)},{trailing:u(()=>[mt]),_:1},8,["onKeydown","modelValue"])]),_:1})):T("",!0)])]),_:1}),e(f)?(_(),I(le,{key:0,class:"mt-2",modelValue:e(C).personal_record,"onUpdate:modelValue":p[3]||(p[3]=D=>e(C).personal_record=D),name:"isPR",label:"Personal records",disabled:!0},null,8,["modelValue"])):(_(),I(le,{key:1,class:"mt-2",modelValue:e(t).personal_record,"onUpdate:modelValue":p[4]||(p[4]=D=>e(t).personal_record=D),name:"isPR",label:"Personal records"},null,8,["modelValue"]))]),d("div",null,[e(f)||e(h)?(_(),U("div",ft,[r(F,{class:"flex-1",label:"Infos affichable"},{default:u(()=>[r(H,{class:"flex-1","option-attribute":"label","value-attribute":"id",options:e(W),modelValue:e(C).displayable_set_information.type,disabled:!0},null,8,["options","modelValue"])]),_:1}),r(F,{class:"flex-1"},{default:u(()=>[r(z,{class:"ml-1 flex-1",modelValue:e(C).displayable_set_information.value,disabled:!0},null,8,["modelValue"])]),_:1})])):(_(),U("div",xt,[r(F,{class:"flex-1",label:"Infos affichable"},{default:u(()=>[r(H,{class:"flex-1",options:e(W),"option-attribute":"label","value-attribute":"id",modelValue:e(t).displayable_set_information.type},null,8,["options","modelValue"])]),_:1}),r(F,{class:"flex-1"},{default:u(()=>[r(z,{class:"ml-1 flex-1",placeholder:"Label",modelValue:e(t).displayable_set_information.value,"onUpdate:modelValue":p[5]||(p[5]=D=>e(t).displayable_set_information.value=D)},null,8,["modelValue"])]),_:1})]))]),d("div",gt,[r(M,{type:"submit"},{default:u(()=>[J("Valider")]),_:1})])]),_:1},8,["state"])]),_:1})]),_:1},8,["model-value"])}}}),ke=Z(ht,[["__scopeId","data-v-83388d4e"]]),vt={class:"setitem__left"},yt={class:"setitem__counter"},bt={class:"setitem__right"},St={key:1,class:"setitem__label"},Et=O({__name:"SetItem",props:{check:{type:Boolean,default:!1},programSet:{},trainingExercice:{}},setup(l){const c=l,k=K(),{getComputedSet:i,isFirstSetTypeValid:b}=Ee(),o=ce(),a=N(!1),n=N(!1),s=v(()=>{var $,B;return(B=($=f.value)==null?void 0:$.displayable_set_information)==null?void 0:B.value}),g=v(()=>c.trainingExercice.sets.findIndex($=>$.id===c.programSet.id)),m=v(()=>g.value+1),t=v(()=>o.exercices.find($=>$.id===c.trainingExercice.exercice_id)),f=v(()=>i(c.trainingExercice,c.programSet,t.value)),h=v(()=>c.trainingExercice.is_done);function S($){$&&(n.value=!1)}const w=v(()=>{if(b(c.trainingExercice,f.value))switch(f.value.type){case E.FSL:return{color:"violet",isBadge:!0};case E.Joker:return{color:"emerald",isBadge:!0}}return{color:null,isBadge:!1}});function C(){const $=n.value;return[[{label:"Editer",icon:"i-heroicons-pencil-square",click:()=>{a.value=!0}}],[{label:$?"Confirmer":"Supprimer",icon:"i-heroicons-trash",iconClass:$?"text-red-400":null,labelClass:$?"text-red-400":null,click:B=>{if(B.preventDefault(),n.value){k.deleteProgramSet(c.programSet,c.trainingExercice);return}n.value=!0}}]]}return($,B)=>{const x=rt,V=me,L=q,P=ye,j=se,G=ke;return e(f)?(_(),U("div",{key:0,class:Y(["setitem p-3",{"setitem--check":e(h)}])},[d("div",vt,[d("span",yt,R(e(m)),1),r(x,{class:"setitem__perf",programSet:e(f)},null,8,["programSet"])]),d("div",bt,[e(w).isBadge?(_(),I(V,{key:0,size:"xs",label:e(s),color:e(w).color},null,8,["label","color"])):(_(),U("div",St,R(e(s)),1)),r(P,{ui:{padding:"border-solid",item:{base:"border-solid"}},items:C(),popper:{placement:"bottom-start"},"onUpdate:open":S},{default:u(()=>[r(L,{class:"setitem__options mx-2",icon:"i-heroicons-ellipsis-horizontal",size:"2xs",color:"gray",variant:"soft"})]),_:1},8,["items"]),e(h)?(_(),I(j,{key:2,class:"setitem__check",name:"i-solar-check-read-outline"})):T("",!0)]),r(G,{modelValue:e(a),"onUpdate:modelValue":B[0]||(B[0]=W=>re(a)?a.value=W:null),"exercice-set":$.programSet,"training-exercice":c.trainingExercice,"is-edition":!0},null,8,["modelValue","exercice-set","training-exercice"])],2)):T("",!0)}}}),kt=Z(Et,[["__scopeId","data-v-fce28465"]]),Vt={class:"flex items-center justify-between"},wt={class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"},$t={class:"justify-center flex"},Ut=O({__name:"AddExercicePopin",props:{modelValue:{type:Boolean,default:!1},trainingExercice:{},isRecommendation:{type:Boolean},exercicesList:{}},emits:["update:modelValue"],setup(l,{emit:c}){const k=c,i=l,b=K(),o=N(null);function a(){k("update:modelValue",!1)}function n(){var f;let t=JSON.parse(JSON.stringify(i.trainingExercice));if(t.exercice_id=(f=o.value)==null?void 0:f.id,i.isRecommendation){const h=t.recommended_training_exercices.find(S=>{var w;return S.exercice_id===((w=o.value)==null?void 0:w.id)});t.sets=(h==null?void 0:h.sets)||[]}t.is_done=!1,b.updateTrainingExercice(t),a()}const s=v(()=>i.trainingExercice.exercice_id?"Changer d'exercice":"Ajouter un exercice"),g=v(()=>i.isRecommendation?"Recommandations du coach :":"Exercices");fe(()=>i.modelValue,t=>{t||(o.value=null)});const m=v(()=>{let t="items-center px-0 pb-0 pt-14",f="rounded-b-none";return i.isRecommendation&&(t+=" h-full",f+=" h-full"),{container:t,height:f}});return(t,f)=>{const h=q,S=Me,w=he,C=ve;return _(),I(C,{"model-value":i.modelValue,"onUpdate:modelValue":a,ui:e(m)},{default:u(()=>[r(w,{ui:{base:"h-full flex flex-col",body:{base:"border-solid flex-1 border-b-none"}}},{header:u(()=>[d("div",Vt,[d("h3",wt,R(e(s)),1),r(h,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",onClick:a})])]),footer:u(()=>[d("div",$t,[de(t.$slots,"action"),r(h,{type:"button",disabled:!e(o),color:e(o)?"primary":"gray",onClick:n},{default:u(()=>[J("Valider")]),_:1},8,["disabled","color"])])]),default:u(()=>[r(S,{muscle:"All",selectable:!0,"selected-exercice":e(o),"onUpdate:selectedExercice":f[0]||(f[0]=$=>re(o)?o.value=$:null),title:e(g),filterable:!i.isRecommendation,"exercices-list":i.exercicesList},null,8,["selected-exercice","title","filterable","exercices-list"]),de(t.$slots,"default")]),_:3})]),_:3},8,["model-value","ui"])}}}),It={key:0,class:"c-accordion__container"},Ct={class:"c-accordion-heading"},Lt={class:"c-accordion-heading__content c-accordion-heading__content--bigger"},Rt={class:"c-accordion-heading__left"},Tt={class:"text-sm"},Bt={class:"c-accordion-heading__trailing"},Ft={class:"c-accordion-heading__content c-accordion-heading__content--bigger"},Dt={class:"c-accordion-heading__left"},Pt={class:"c-accordion-heading__trailing"},Mt={class:"flex justify-center"},Nt=O({__name:"TrainingExercice",props:{trainingExercice:{},trainingIndex:{},supersetUp:{type:Boolean,default:!1},supersetDown:{type:Boolean,default:!1}},setup(l){const c=l,k=ce(),i=K(),b=N(!1),o=N(!1),a=N(!1),n=N(!1),s=v(()=>k.exercices.find(x=>x.id===c.trainingExercice.exercice_id)),g=v(()=>c.trainingExercice.recommended_training_exercices.map(V=>k.exercices.find(P=>P.id===V.exercice_id)).filter(V=>V&&V.id!==c.trainingExercice.exercice_id)),m=v(()=>k.exercices.filter(x=>!c.trainingExercice.recommended_training_exercices.map(P=>P.exercice_id).includes(x.id)&&x.id!==c.trainingExercice.exercice_id)),t=v(()=>c.trainingExercice.recommended_training_exercices.length),f=v(()=>c.supersetDown||c.supersetUp);function h(){const x=JSON.parse(JSON.stringify(c.trainingExercice));x.is_done=!x.is_done,i.updateTrainingExercice(x)}function S(x){o.value=x,a.value=!x}function w(x){if(!x){a.value=!1,o.value=!1;return}a.value=x,o.value=!x}function C(x){if(t.value){w(x);return}S(x)}function $(x){x&&(n.value=!1)}function B(){const x=n.value;return[[{label:"Changer d'exercice",icon:"i-solar-refresh-outline",click:()=>{C(!0)}}],[{label:x?"Confirmer":"Supprimer",icon:"i-heroicons-trash",iconClass:x?"text-red-400":null,labelClass:x?"text-red-400":null,click:V=>{if(V.preventDefault(),n.value){const L=JSON.parse(JSON.stringify(c.trainingExercice));L.exercice_id=null,i.updateTrainingExercice(L);return}n.value=!0}}]]}return(x,V)=>{const L=q,P=ge,j=me,G=ye,W=se,ne=kt,ie=Ne,oe=ke,y=Ut;return _(),U("div",{class:Y(["c-accordion",{"c-accordion--top-radiusless":x.supersetUp,"c-accordion--bottom-radiusless":x.supersetDown}])},[e(s)?(_(),I(ie,{key:1,items:[c.trainingExercice],ui:{container:"c-accordion__container",item:{padding:"p-0"}}},{default:u(({item:p,index:M,open:H})=>[r(L,{color:"gray",variant:"ghost",class:Y(["c-accordion-heading",{"c-accordion-heading--active":H,"c-accordion-heading--check":p.is_done}]),ui:{}},{leading:u(()=>[d("div",{onClick:ue(h,["stop"]),class:"c-accordion__leading p-3"},[r(P,{color:"primary","model-value":p.is_done,ui:{}},null,8,["model-value"])])]),default:u(()=>[d("div",Ft,[d("div",Dt,[d("span",null,R(x.trainingIndex+1)+". "+R(e(s).name),1)]),d("div",Pt,[e(f)?(_(),I(j,{key:0,color:"white",variant:"solid",size:"xs"},{default:u(()=>[J("Superset")]),_:1})):T("",!0),r(G,{onClick:V[1]||(V[1]=ue(()=>{},["prevent","stop"])),ui:{padding:"border-solid",item:{base:"border-solid"}},items:B(),popper:{placement:"bottom-start"},"onUpdate:open":$},{default:u(()=>[r(L,{class:"setitem__options mx-2",icon:"i-solar-menu-dots-bold",size:"2xs",color:"gray",variant:"soft"})]),_:1},8,["items"]),r(W,{name:"i-heroicons-chevron-right-20-solid",class:"c-accordion-heading__chevron"})])])]),_:2},1032,["class"])]),item:u(({item:p})=>[(_(!0),U(A,null,xe(p.sets,M=>(_(),I(ne,{key:M.id,"program-set":M,"training-exercice":p},null,8,["program-set","training-exercice"]))),128)),r(L,{onClick:V[2]||(V[2]=M=>b.value=!0),icon:"i-heroicons-pencil-square",size:"sm",variant:"soft",label:"Créer une série",class:"mt-3 mb-6 mx-3",trailing:!1,color:p.is_done?"white":"primary",disabled:p.is_done},null,8,["color","disabled"])]),_:1},8,["items"])):(_(),U("div",It,[d("div",Ct,[d("div",Lt,[d("div",Rt,[d("span",Tt,"Exercice "+R(x.trainingIndex+1),1)]),d("div",Bt,[r(L,{icon:"i-heroicons-plus-circle",size:"xs",onClick:V[0]||(V[0]=p=>C(!0))},{default:u(()=>[J("Ajouter")]),_:1})])])])])),r(oe,{modelValue:e(b),"onUpdate:modelValue":V[3]||(V[3]=p=>re(b)?b.value=p:null),"training-exercice":c.trainingExercice,"is-edition":!1},null,8,["modelValue","training-exercice"]),r(y,{"onUpdate:modelValue":w,"model-value":e(a),"training-exercice":c.trainingExercice,"is-recommendation":!0,"exercices-list":e(g)},{default:u(()=>[d("div",Mt,[r(L,{variant:"outline",icon:"i-heroicons-plus",onClick:V[4]||(V[4]=p=>S(!0))},{default:u(()=>[J("Choisir un autre exercice")]),_:1})])]),_:1},8,["model-value","training-exercice","exercices-list"]),r(y,{"onUpdate:modelValue":w,"model-value":e(o),"training-exercice":c.trainingExercice,"exercices-list":e(m)},Te({_:2},[e(t)?{name:"action",fn:u(()=>[r(L,{type:"button",icon:"i-heroicons-arrow-left",class:"mr-2",variant:"outline",onClick:V[5]||(V[5]=p=>S(!1))},{default:u(()=>[J("Retour")]),_:1})]),key:"0"}:void 0]),1032,["model-value","training-exercice","exercices-list"])],2)}}}),Jt=Be("supersetsStore",()=>{const l=N([]);function c(b){const[o,a]=b;o&&a&&(l.value.find(s=>s.includes(o)&&s.includes(a))||l.value.push(b))}function k(b){const[o,a]=b;l.value=l.value.filter(n=>!(n.includes(o)&&n.includes(a)))}function i(b){const[o,a]=b;return l.value.find(n=>n.includes(o)&&n.includes(a))}return{supersetExercices:l,addSupersetExercice:c,deleteSupersetExercice:k,getSupersetExercice:i}},{persist:!0}),zt=O({__name:"index",setup(l){const c=K(),k=Jt(),i=v(()=>c.currentTraining.training_exercices);function b(a){const n=i.value[a],s=i.value[a-1],g=[n.id,s.id];k.getSupersetExercice(g)?k.deleteSupersetExercice(g):k.addSupersetExercice(g)}function o(a){if(a===0||a>i.value.length-1)return!1;const n=i.value[a],s=i.value[a-1],g=[n.id,s.id];return!!k.getSupersetExercice(g)}return(a,n)=>{const s=Le,g=Ge,m=Ye,t=Nt;return _(),U("div",null,[r(s,{title:"Training"}),d("div",null,[r(g),(_(!0),U(A,null,xe(e(i),(f,h)=>(_(),U(A,{key:f.id},[h!==0?(_(),I(m,{key:0,"onUpdate:modelValue":S=>b(h),"model-value":o(h)},null,8,["onUpdate:modelValue","model-value"])):T("",!0),r(t,{"training-exercice":f,"training-index":h,"superset-down":o(h+1),"superset-up":o(h)},null,8,["training-exercice","training-index","superset-down","superset-up"])],64))),128))])])}}});export{zt as default};
