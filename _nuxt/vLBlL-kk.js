import{u as q,S as k,D as X,e as Ue,b as Ie,_ as Ce,c as Re}from"./ZjnTuaba.js";import{g as O,j as v,k as e,o as _,c as $,b as r,w as u,a as d,t as L,F as A,h as T,n as Z,x as I,d as J,l as se,m as G,p as ee,f as te,_ as W,z as Le,s as N,v as me,y as re,r as de,B as ue,A as fe,C as Te,D as Be,T as Fe}from"./D_Shy5id.js";import{e as De,r as pe,u as ae,j as _e,k as Pe,l as xe,_ as Me,a as ge,b as he,m as ve,d as ye,i as Ne,n as Je}from"./n8m0Ev7C.js";const be=l=>(ee("data-v-1c5cef8f"),l=l(),te(),l),Ae={key:0,class:"training-selector mb-5 mx-auto"},Oe={class:"option__left"},je={class:"option__right"},ze=be(()=>d("span",{class:"mr-3"},"Terminé",-1)),We=be(()=>d("span",{class:"mr-3"},"En cours",-1)),Ke={class:"flex items-center mx-auto"},qe={class:"flex items-center"},Ge=O({__name:"TrainingSelector",setup(l){const a=q();function E(o){a.setSelectedTrainingId(o)}function i(o){const c=o==null?void 0:o.training_exercices;return c&&c.length?c.every(n=>n.is_done):!1}const b=v(()=>a.currentTraining);return(o,c)=>{var f;const n=se,s=G,x=De;return e(a).currentWeek?(_(),$("div",Ae,[r(x,{"onUpdate:modelValue":E,modelValue:(f=e(b))==null?void 0:f.id,options:e(a).currentWeek.trainings,"option-attribute":"name","value-attribute":"id",uiMenu:{option:{padding:"p-0 w-full",container:"w-full",color:"bg-transparent",selected:"p-0",selectedIcon:{base:"hidden"}}}},{option:u(({option:t,selected:g})=>[d("div",{class:Z(["training-selector__option px-1.5 py-3",{"training-selector__option--selected":g,"training-selector__option--checked":i(t)}])},[d("div",Oe,L(t.name),1),d("div",je,[i(t)?(_(),$(A,{key:0},[ze,r(n,{name:"i-solar-check-circle-outline"})],64)):g?(_(),$(A,{key:1},[We,r(n,{name:"i-solar-dumbbell-large-minimalistic-linear"})],64)):T("",!0)])],2)]),default:u(()=>[r(s,{color:i(e(b))?"primary":"gray",variant:"outline",class:"training-selector__label",size:"xl",ui:{rounded:"rounded-full"}},{default:u(()=>{var t;return[d("div",Ke,[i(e(b))?(_(),I(n,{key:0,class:"mr-1",name:"i-solar-check-circle-outline"})):(_(),I(n,{key:1,class:"mr-1",name:"i-solar-dumbbell-large-minimalistic-linear"})),J(" "+L((t=e(b))==null?void 0:t.name),1)]),d("div",qe,[r(n,{name:"i-heroicons-chevron-down-20-solid"})])]}),_:1},8,["color"])]),_:1},8,["modelValue","options"])])):T("",!0)}}}),He=W(Ge,[["__scopeId","data-v-1c5cef8f"]]),Qe=l=>(ee("data-v-5b85f108"),l=l(),te(),l),Xe=Qe(()=>d("span",{class:"superset-divider__border superset-divider__border--bottom"},null,-1)),Ye=O({__name:"SupersetDivider",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:a}){const E=a,i=l;return(b,o)=>{const c=G;return _(),$("div",{class:Z(["superset-divider",{"superset-divider--active":i.modelValue}])},[r(c,{onClick:o[0]||(o[0]=n=>E("update:modelValue",!i.modelValue)),class:"superset-divider__button",color:i.modelValue?"primary":"gray",size:"2xs",variant:"soft",label:"superset",icon:i.modelValue?"i-solar-check-circle-linear":"i-solar-close-circle-linear"},null,8,["color","icon"]),Xe],2)}}}),Ze=W(Ye,[["__scopeId","data-v-5b85f108"]]);var Y=(l=>(l.Amrap="amrap",l))(Y||{});const Se=l=>(ee("data-v-1ce09742"),l=l(),te(),l),et={key:0,class:"perf"},tt={class:"perf__reps"},nt={key:0,class:"perf__reps-label ml-1"},it=Se(()=>d("div",{class:"perf__at mx-1"},"@",-1)),ot={class:"perf__weight"},st=Se(()=>d("div",{class:"perf__unit ml-1"},"kg",-1)),rt=O({__name:"SetPerf",props:{programSet:{}},setup(l){const a=l,E=v(()=>{const o=a.programSet.repetitions;if(o){let c=o;const n=a.programSet.personal_record;if(typeof o=="string")if(o.toLowerCase()===Y.Amrap)c=Y.Amrap.toUpperCase();else{const[s,x]=o.split("-");c=`${s} à ${x}`}return n&&(c+=" +"),c}return null}),i=v(()=>a.programSet.repetitions!==Y.Amrap),b=v(()=>typeof a.programSet.weight=="number");return(o,c)=>o.programSet?(_(),$("div",et,[e(E)?(_(),$(A,{key:0},[d("div",tt,L(e(E)),1),e(i)?(_(),$("div",nt,"reps")):T("",!0)],64)):T("",!0),e(b)?(_(),$(A,{key:1},[it,d("div",ot,L(o.programSet.weight),1),st],64)):T("",!0)])):T("",!0)}}),at=W(rt,[["__scopeId","data-v-1ce09742"]]);function ke(){function l(){return{id:crypto.randomUUID(),type:k.Custom,repetitions:1,weight:null,exercice_max_weight_percentage:null,personal_record:!1,is_done:!1,displayable_set_information:{id:crypto.randomUUID(),type:X.Label,value:null}}}function a(n){return typeof n=="string"?/^(\d+|\d+-\d+|amrap)$/i.test(n):Number.isInteger(n)}function E(n,s,x){const f=n.sets.findIndex(S=>S.id===s.id),t=f===-1,g=n.sets[n.sets.length-1],m=t?g:n.sets[f-1];if(m){const S=l();S.id=s.id;const w=o(n,m,x);if(typeof(w==null?void 0:w.weight)=="number"){const C=pe(w.weight+w.weight*5/100,4);S.weight=C}return S.type=k.Joker,S.repetitions=w.repetitions,S.displayable_set_information.type=X.Label,S.displayable_set_information.value=k.Joker,S}return null}function i(n,s,x){const t=n.sets.findIndex(m=>m.id===s.id)===0,g=n.sets[0];if(g&&!t){const m=l(),S=o(n,g,x);return m.id=s.id,m.weight=S.weight,m.repetitions=Y.Amrap,m.type=k.FSL,m.displayable_set_information.type=X.Label,m.displayable_set_information.value=k.FSL,m}return null}function b(n,s,x){if(x){const f=l();let t=x.TM;if(s.type===k.RM&&(t=x.RM),f.id=s.id,f.weight=0,s.exercice_max_weight_percentage){f.weight=pe(s.exercice_max_weight_percentage*t,4);const g=s.exercice_max_weight_percentage*100;f.displayable_set_information.value=`${g} % ${s.type}`}return f.repetitions=s.repetitions,f.type=s.type,f.personal_record=s.personal_record,f.exercice_max_weight_percentage=s.exercice_max_weight_percentage,f.displayable_set_information.type=X.Label,f}return null}function o(n,s,x){switch(s.type){case k.Joker:return E(n,s,x)||s;case k.FSL:return i(n,s,x)||s;case k.RM:case k.TM:return b(n,s,x)||s}return s}function c(n,s){const x=n.sets.findIndex(f=>f.id===s.id);switch(s.type){case k.Joker:case k.FSL:return x!==0;default:return!0}}return{getEmptySet:l,isRepetitionsValid:a,getComputedSet:o,isFirstSetTypeValid:c}}const ce=l=>(ee("data-v-39eaf07f"),l=l(),te(),l),ct={class:"flex items-center justify-between"},lt={class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"},dt={key:0,class:"text-base leading-6 text-gray-900 dark:text-white"},ut={class:"flex items-end"},pt=ce(()=>d("span",{class:"edition__perfs-at"},"@",-1)),_t=ce(()=>d("span",{class:"text-gray-500 dark:text-gray-400 text-xs"},"Kg",-1)),mt={class:"text-gray-500 dark:text-gray-400 text-[10px]"},ft=ce(()=>d("span",{class:"text-gray-500 dark:text-gray-400 text-xs"},"% décimal",-1)),xt={key:0,class:"flex items-end"},gt={key:1,class:"flex items-end"},ht={class:"flex justify-center mt-5"},vt=O({__name:"EditionSetPopin",props:{modelValue:{type:Boolean,default:!1},trainingExercice:{},exerciceSet:{},isEdition:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:a}){const E=a,i=l,b=ae(),o=q(),{getEmptySet:c,isRepetitionsValid:n,getComputedSet:s,isFirstSetTypeValid:x}=ke(),{t:f}=Le(),t=N(c()),g=v(()=>{switch(t.value.type){case k.Joker:case k.FSL:return!0;default:return!1}}),m=v(()=>{switch(t.value.type){case k.RM:case k.TM:return!0;default:return!1}}),S=v(()=>b.exercices.find(y=>y.id===i.trainingExercice.exercice_id)),w=v(()=>i.trainingExercice.sets.findIndex(y=>{var p;return y.id===((p=i.exerciceSet)==null?void 0:p.id)})),C=v(()=>s(i.trainingExercice,t.value,S.value)),U=v(()=>i.isEdition?"Edition d'une série":"Créer une série"),B=v(()=>{if(S.value){const y=w.value>-1?w.value+1:i.trainingExercice.sets.length+1;return`${S.value.name}, série n°${y}`}return null}),h=v(()=>{switch(t.value.type){case k.Custom:case k.FSL:case k.Joker:return!0;default:return!1}}),V=v(()=>{switch(t.value.type){case k.RM:case k.TM:return!0;default:return!1}}),R=v(()=>{var y,p;switch(t.value.type){case k.RM:return((y=S.value)==null?void 0:y.RM)||0;case k.TM:return((p=S.value)==null?void 0:p.TM)||0}return 0});function P(){i.isEdition?o.updateProgramSet(t.value,i.trainingExercice):o.addProgramSet(t.value,i.trainingExercice),j()}function j(){E("update:modelValue",!1)}const H=v(()=>Object.values(k).map(y=>({id:y,label:f(`exerciceSet.type.${y}`)}))),K=v(()=>[X.Label].map(y=>({id:y,label:f(`exerciceSet.information.type.${y}`)})));function ne(y){const M=!isNaN(Number(y))?Number(y):y;t.value.repetitions=M}function ie(y){const p=[];return y.repetitions||p.push({path:"perf",message:"Les répétitions sont requise."}),n(y.repetitions)||p.push({path:"perf",message:"Formats valides : xx, xx-xx ou amrap."}),x(i.trainingExercice,y)||p.push({path:"type",message:"Ce type de série ne peut pas être en 1ère position."}),V.value&&!Pe(y.exercice_max_weight_percentage)&&p.push({path:"perf",message:`Le ${y.type} % doit être compris entre 0 et 1.`}),p}function oe(){i.exerciceSet?t.value=JSON.parse(JSON.stringify(i.exerciceSet)):t.value=c()}return me(()=>i.modelValue,y=>{y&&oe()}),(y,p)=>{const M=G,Q=Ue,F=Ie,z=Ce,le=xe,Ve=Me,we=ge,$e=he;return _(),I($e,{"model-value":i.modelValue,"onUpdate:modelValue":j,ui:{container:"items-center"}},{default:u(()=>[r(we,{ui:{body:{base:"border-solid"}}},{header:u(()=>[d("div",ct,[d("h3",lt,L(e(U)),1),r(M,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",onClick:j})]),e(B)?(_(),$("p",dt,L(e(B)),1)):T("",!0)]),default:u(()=>[r(Ve,{validate:ie,state:e(t),class:"space-y-4",onSubmit:P},{default:u(()=>[d("div",null,[r(F,{label:"Type de série",name:"type"},{default:u(()=>[r(Q,{options:e(H),"option-attribute":"label","value-attribute":"id",modelValue:e(t).type,"onUpdate:modelValue":p[0]||(p[0]=D=>e(t).type=D)},null,8,["options","modelValue"])]),_:1})]),d("div",null,[r(F,{name:"perf"},{default:u(()=>[d("div",ut,[e(g)?(_(),I(F,{key:0,class:"edition__perf-item",label:"Répetitions"},{default:u(()=>[r(z,{type:"text",disabled:!0,modelValue:e(C).repetitions},null,8,["modelValue"])]),_:1})):(_(),I(F,{key:1,class:"edition__perf-item",label:"Répetitions"},{default:u(()=>[r(z,{placeholder:"10",type:"text",onChange:ne,modelValue:e(t).repetitions,"validate-on":["change"]},null,8,["modelValue"])]),_:1})),pt,e(h)?(_(),$(A,{key:2},[e(g)?(_(),I(F,{key:0,class:"edition__perf-item",label:"Weight"},{default:u(()=>[r(z,{type:"text",disabled:!0,modelValue:e(C).weight},null,8,["modelValue"])]),_:1})):(_(),I(F,{key:1,class:"edition__perf-item",label:"Weight"},{default:u(()=>[r(z,{placeholder:"80",type:"number",step:"0.01",onKeydown:e(_e),modelValue:e(t).weight,"onUpdate:modelValue":p[1]||(p[1]=D=>e(t).weight=D)},{trailing:u(()=>[_t]),_:1},8,["onKeydown","modelValue"])]),_:1}))],64)):T("",!0),e(V)?(_(),I(F,{key:3,class:"edition__perf-item"},{label:u(()=>[d("p",null,[J(" % "+L(e(t).type)+" - ",1),d("span",mt,"Exercice "+L(e(t).type)+" "+L(e(R))+"kg",1)])]),default:u(()=>[r(z,{placeholder:"0.7",type:"number",step:"0.01",onKeydown:e(_e),modelValue:e(t).exercice_max_weight_percentage,"onUpdate:modelValue":p[2]||(p[2]=D=>e(t).exercice_max_weight_percentage=D)},{trailing:u(()=>[ft]),_:1},8,["onKeydown","modelValue"])]),_:1})):T("",!0)])]),_:1}),e(g)?(_(),I(le,{key:0,class:"mt-2",modelValue:e(C).personal_record,"onUpdate:modelValue":p[3]||(p[3]=D=>e(C).personal_record=D),name:"isPR",label:"Record personnel (PR)",disabled:!0},null,8,["modelValue"])):(_(),I(le,{key:1,class:"mt-2",modelValue:e(t).personal_record,"onUpdate:modelValue":p[4]||(p[4]=D=>e(t).personal_record=D),name:"isPR",label:"Record personnel (PR)"},null,8,["modelValue"]))]),d("div",null,[e(g)||e(m)?(_(),$("div",xt,[r(F,{class:"flex-1",label:"Infos affichable"},{default:u(()=>[r(Q,{class:"flex-1","option-attribute":"label","value-attribute":"id",options:e(K),modelValue:e(C).displayable_set_information.type,disabled:!0},null,8,["options","modelValue"])]),_:1}),r(F,{class:"flex-1"},{default:u(()=>[r(z,{class:"ml-1 flex-1",modelValue:e(C).displayable_set_information.value,disabled:!0},null,8,["modelValue"])]),_:1})])):(_(),$("div",gt,[r(F,{class:"flex-1",label:"Infos affichable"},{default:u(()=>[r(Q,{class:"flex-1",options:e(K),"option-attribute":"label","value-attribute":"id",modelValue:e(t).displayable_set_information.type},null,8,["options","modelValue"])]),_:1}),r(F,{class:"flex-1"},{default:u(()=>[r(z,{class:"ml-1 flex-1",placeholder:"Label",modelValue:e(t).displayable_set_information.value,"onUpdate:modelValue":p[5]||(p[5]=D=>e(t).displayable_set_information.value=D)},null,8,["modelValue"])]),_:1})]))]),d("div",ht,[r(M,{type:"submit"},{default:u(()=>[J("Valider")]),_:1})])]),_:1},8,["state"])]),_:1})]),_:1},8,["model-value"])}}}),Ee=W(vt,[["__scopeId","data-v-39eaf07f"]]),yt={class:"setitem__left"},bt={class:"setitem__counter"},St={class:"setitem__right"},kt={key:1,class:"setitem__label"},Et=O({__name:"SetItem",props:{check:{type:Boolean,default:!1},programSet:{},trainingExercice:{}},setup(l){const a=l,E=q(),{getComputedSet:i,isFirstSetTypeValid:b}=ke(),o=ae(),c=N(!1),n=N(!1),s=v(()=>{var U,B;return(B=(U=g.value)==null?void 0:U.displayable_set_information)==null?void 0:B.value}),x=v(()=>a.trainingExercice.sets.findIndex(U=>U.id===a.programSet.id)),f=v(()=>x.value+1),t=v(()=>o.exercices.find(U=>U.id===a.trainingExercice.exercice_id)),g=v(()=>i(a.trainingExercice,a.programSet,t.value)),m=v(()=>a.trainingExercice.is_done);function S(U){U&&(n.value=!1)}const w=v(()=>{if(b(a.trainingExercice,g.value))switch(g.value.type){case k.FSL:return{color:"violet",isBadge:!0};case k.Joker:return{color:"emerald",isBadge:!0}}return{color:null,isBadge:!1}});function C(){const U=n.value;return[[{label:"Editer",icon:"i-heroicons-pencil-square",click:()=>{c.value=!0}}],[{label:U?"Confirmer":"Supprimer",icon:"i-heroicons-trash",iconClass:U?"text-red-400":null,labelClass:U?"text-red-400":null,click:B=>{if(B.preventDefault(),n.value){E.deleteProgramSet(a.programSet,a.trainingExercice);return}n.value=!0}}]]}return(U,B)=>{const h=at,V=ve,R=G,P=ye,j=se,H=Ee;return e(g)?(_(),$("div",{key:0,class:Z(["setitem p-3",{"setitem--check":e(m)}])},[d("div",yt,[d("span",bt,L(e(f)),1),r(h,{class:"setitem__perf",programSet:e(g)},null,8,["programSet"])]),d("div",St,[e(w).isBadge?(_(),I(V,{key:0,size:"xs",label:e(s),color:e(w).color},null,8,["label","color"])):(_(),$("div",kt,L(e(s)),1)),r(P,{ui:{padding:"border-solid",item:{base:"border-solid"}},items:C(),popper:{placement:"bottom-start"},"onUpdate:open":S},{default:u(()=>[r(R,{class:"setitem__options mx-2",icon:"i-heroicons-ellipsis-horizontal",size:"sm",color:"gray",variant:"soft"})]),_:1},8,["items"]),e(m)?(_(),I(j,{key:2,class:"setitem__check",name:"i-solar-check-read-outline"})):T("",!0)]),r(H,{modelValue:e(c),"onUpdate:modelValue":B[0]||(B[0]=K=>re(c)?c.value=K:null),"exercice-set":U.programSet,"training-exercice":a.trainingExercice,"is-edition":!0},null,8,["modelValue","exercice-set","training-exercice"])],2)):T("",!0)}}}),Vt=W(Et,[["__scopeId","data-v-2daa1410"]]),wt={class:"flex items-center justify-between"},$t={class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"},Ut={class:"footer-action justify-center flex px-4 py-4 sm:px-6"},It=O({__name:"AddExercicePopin",props:{modelValue:{type:Boolean,default:!1},trainingExercice:{},isRecommendation:{type:Boolean},exercicesList:{}},emits:["update:modelValue"],setup(l,{emit:a}){const E=a,i=l,b=q(),o=N(null);function c(){E("update:modelValue",!1)}function n(){var g;let t=JSON.parse(JSON.stringify(i.trainingExercice));if(t.exercice_id=(g=o.value)==null?void 0:g.id,t.sets=[...(t==null?void 0:t.default_sets)||[]],i.isRecommendation){const m=t.recommended_training_exercices.find(S=>{var w;return S.exercice_id===((w=o.value)==null?void 0:w.id)});m!=null&&m.default_sets&&(t.sets=[...(m==null?void 0:m.default_sets)||[]])}t.is_done=!1,b.updateTrainingExercice(t),c()}const s=v(()=>i.trainingExercice.exercice_id?"Changer d'exercice":"Ajouter un exercice"),x=v(()=>i.isRecommendation?"Recommandations du coach :":"Exercices");me(()=>i.modelValue,t=>{t||(o.value=null)});const f=v(()=>{let t="items-center px-0 pb-0 pt-14",g="rounded-b-none";return i.isRecommendation&&(t+=" h-full",g+=" h-full"),{container:t,height:g}});return(t,g)=>{const m=G,S=Ne,w=ge,C=he;return _(),I(C,{"model-value":i.modelValue,"onUpdate:modelValue":c,ui:e(f)},{default:u(()=>[r(w,{ui:{base:"h-full flex flex-col",body:{base:"border-solid flex-1 border-b-none"},footer:{base:"sticky bottom-0 bg-white",padding:"p-0"}}},{header:u(()=>[d("div",wt,[d("h3",$t,L(e(s)),1),r(m,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",onClick:c})])]),footer:u(()=>[d("div",Ut,[de(t.$slots,"footer-action",{},void 0,!0),r(m,{type:"button",disabled:!e(o),color:e(o)?"primary":"gray",onClick:n},{default:u(()=>[J("Valider")]),_:1},8,["disabled","color"])])]),default:u(()=>[r(S,{muscle:"All",selectable:!0,"selected-exercice":e(o),"onUpdate:selectedExercice":g[0]||(g[0]=U=>re(o)?o.value=U:null),title:e(x),filterable:!i.isRecommendation,"exercices-list":i.exercicesList},null,8,["selected-exercice","title","filterable","exercices-list"]),de(t.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["model-value","ui"])}}}),Ct=W(It,[["__scopeId","data-v-f176b8d6"]]),Rt={key:0,class:"c-accordion__container"},Lt={class:"c-accordion-heading"},Tt={class:"c-accordion-heading__content"},Bt={class:"c-accordion-heading__left"},Ft={class:"text-sm"},Dt={class:"c-accordion-heading__trailing"},Pt={class:"c-accordion-heading__content"},Mt={class:"c-accordion-heading__left"},Nt={class:"c-accordion-heading__trailing"},Jt={class:"flex justify-center"},At=O({__name:"TrainingExercice",props:{trainingExercice:{},trainingIndex:{},supersetUp:{type:Boolean,default:!1},supersetDown:{type:Boolean,default:!1}},setup(l){const a=l,E=ae(),i=q(),b=N(!1),o=N(!1),c=N(!1),n=N(!1),s=v(()=>E.exercices.find(h=>h.id===a.trainingExercice.exercice_id)),x=v(()=>a.trainingExercice.recommended_training_exercices.map(V=>E.exercices.find(P=>P.id===V.exercice_id)).filter(V=>V&&V.id!==a.trainingExercice.exercice_id)),f=v(()=>E.exercices.filter(h=>!a.trainingExercice.recommended_training_exercices.map(P=>P.exercice_id).includes(h.id)&&h.id!==a.trainingExercice.exercice_id)),t=v(()=>!!x.value.length),g=v(()=>a.supersetDown||a.supersetUp);function m(){const h=JSON.parse(JSON.stringify(a.trainingExercice));h.is_done=!h.is_done,i.updateTrainingExercice(h)}function S(h){o.value=h,c.value=!h}function w(h){if(!h){c.value=!1,o.value=!1;return}c.value=h,o.value=!h}function C(h){if(t.value){w(h);return}S(h)}function U(h){h&&(n.value=!1)}function B(){const h=n.value;return[[{label:"Changer d'exercice",icon:"i-solar-refresh-outline",click:()=>{C(!0)}}],[{label:h?"Confirmer":"Supprimer",icon:"i-heroicons-trash",iconClass:h?"text-red-400":null,labelClass:h?"text-red-400":null,click:V=>{if(V.preventDefault(),n.value){const R=JSON.parse(JSON.stringify(a.trainingExercice));R.exercice_id=null,i.updateTrainingExercice(R);return}n.value=!0}}]]}return(h,V)=>{const R=G,P=xe,j=ve,H=ye,K=se,ne=Vt,ie=Je,oe=Ee,y=Ct;return _(),$("div",{class:Z(["c-accordion",{"c-accordion--top-radiusless":h.supersetUp,"c-accordion--bottom-radiusless":h.supersetDown}])},[e(s)?(_(),I(ie,{key:1,items:[a.trainingExercice],ui:{container:"c-accordion__container",item:{padding:"p-0"}}},{default:u(({item:p,index:M,open:Q})=>[r(R,{color:"gray",variant:"ghost",class:Z(["c-accordion-heading",{"c-accordion-heading--active":Q,"c-accordion-heading--check":p.is_done}]),ui:{}},{leading:u(()=>[d("div",{onClick:ue(m,["stop"]),class:"c-accordion__leading p-3"},[r(P,{color:"primary","model-value":p.is_done,ui:{}},null,8,["model-value"])])]),default:u(()=>[d("div",Pt,[d("div",Mt,[d("span",null,L(h.trainingIndex+1)+". "+L(e(s).name),1)]),d("div",Nt,[e(g)?(_(),I(j,{key:0,color:"white",variant:"solid",size:"xs"},{default:u(()=>[J("Superset")]),_:1})):T("",!0),r(H,{onClick:V[1]||(V[1]=ue(()=>{},["prevent","stop"])),ui:{padding:"border-solid",item:{base:"border-solid"}},items:B(),popper:{placement:"bottom-start"},"onUpdate:open":U},{default:u(()=>[r(R,{class:"setitem__options mx-2",icon:"i-solar-menu-dots-bold",size:"sm",color:"gray",variant:"soft"})]),_:1},8,["items"]),r(K,{name:"i-heroicons-chevron-right-20-solid",class:"c-accordion-heading__chevron"})])])]),_:2},1032,["class"])]),item:u(({item:p})=>[(_(!0),$(A,null,fe(p.sets,M=>(_(),I(ne,{key:M.id,"program-set":M,"training-exercice":p},null,8,["program-set","training-exercice"]))),128)),r(R,{onClick:V[2]||(V[2]=M=>b.value=!0),icon:"i-heroicons-pencil-square",variant:"soft",label:"Créer une série",class:"mt-3 mb-6 mx-3",trailing:!1,color:p.is_done?"white":"primary",disabled:p.is_done},null,8,["color","disabled"])]),_:1},8,["items"])):(_(),$("div",Rt,[d("div",Lt,[d("div",Tt,[d("div",Bt,[d("span",Ft,"Exercice "+L(h.trainingIndex+1),1)]),d("div",Dt,[r(R,{icon:"i-heroicons-plus-circle",onClick:V[0]||(V[0]=p=>C(!0))},{default:u(()=>[J("Ajouter")]),_:1})])])])])),r(oe,{modelValue:e(b),"onUpdate:modelValue":V[3]||(V[3]=p=>re(b)?b.value=p:null),"training-exercice":a.trainingExercice,"is-edition":!1},null,8,["modelValue","training-exercice"]),r(y,{"onUpdate:modelValue":w,"model-value":e(c),"training-exercice":a.trainingExercice,"is-recommendation":!0,"exercices-list":e(x)},{default:u(()=>[d("div",Jt,[r(R,{variant:"ghost",icon:"i-heroicons-plus",onClick:V[4]||(V[4]=p=>S(!0))},{default:u(()=>[J("Choisir un autre exercice")]),_:1})])]),_:1},8,["model-value","training-exercice","exercices-list"]),r(y,{"onUpdate:modelValue":w,"model-value":e(o),"training-exercice":a.trainingExercice,"exercices-list":e(f)},Te({_:2},[e(t)?{name:"footer-action",fn:u(()=>[r(R,{type:"button",icon:"i-heroicons-arrow-left",class:"mr-3",variant:"soft",onClick:V[5]||(V[5]=p=>S(!1))},{default:u(()=>[J("Retour")]),_:1})]),key:"0"}:void 0]),1032,["model-value","training-exercice","exercices-list"])],2)}}}),Ot=Be("supersetsStore",()=>{const l=N([]);function a(b){const[o,c]=b;o&&c&&(l.value.find(s=>s.includes(o)&&s.includes(c))||l.value.push(b))}function E(b){const[o,c]=b;l.value=l.value.filter(n=>!(n.includes(o)&&n.includes(c)))}function i(b){const[o,c]=b;return l.value.find(n=>n.includes(o)&&n.includes(c))}return{supersetExercices:l,addSupersetExercice:a,deleteSupersetExercice:E,getSupersetExercice:i}},{persist:!0}),jt=O({__name:"index",setup(l){const a=q(),E=Ot(),i=v(()=>a.currentTraining.training_exercices);function b(c){const n=i.value[c],s=i.value[c-1],x=[n.id,s.id];E.getSupersetExercice(x)?E.deleteSupersetExercice(x):E.addSupersetExercice(x)}function o(c){if(c===0||c>i.value.length-1)return!1;const n=i.value[c],s=i.value[c-1],x=[n.id,s.id];return!!E.getSupersetExercice(x)}return(c,n)=>{const s=Re,x=He,f=Ze,t=At;return _(),$("div",null,[r(s,{title:"Entrainements"}),d("div",null,[r(x),r(Fe,{mode:"out-in",name:"slide-fade"},{default:u(()=>[(_(),$("div",{key:e(a).currentTraining.id},[(_(!0),$(A,null,fe(e(i),(g,m)=>(_(),$(A,{key:g.id},[m!==0?(_(),I(f,{key:0,"onUpdate:modelValue":S=>b(m),"model-value":o(m)},null,8,["onUpdate:modelValue","model-value"])):T("",!0),r(t,{"training-exercice":g,"training-index":m,"superset-down":o(m+1),"superset-up":o(m)},null,8,["training-exercice","training-index","superset-down","superset-up"])],64))),128))]))]),_:1})])])}}}),qt=W(jt,[["__scopeId","data-v-35731d33"]]);export{qt as default};
