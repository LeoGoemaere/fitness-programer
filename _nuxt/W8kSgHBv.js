import{u as K,S as E,D as Q,e as Ue,b as Ie,_ as Ce,f as me,c as Le}from"./Bk3DSqor.js";import{g as O,j as h,k as e,o as m,c as w,b as r,w as p,a as u,t as T,F as A,h as R,n as Y,x as I,d as J,l as se,m as q,p as ee,f as te,_ as Z,z as Te,s as N,v as fe,y as re,r as de,B as ue,A as xe,C as Re,D as Be}from"./ExqE8PyI.js";import{e as Fe,r as pe,u as ce,j as _e,k as De,l as ge,_ as Pe,a as he,b as ve,d as ye,h as Me,m as Ne}from"./C4TNmb9D.js";const be=l=>(ee("data-v-7b93ee81"),l=l(),te(),l),Je={key:0,class:"training-selector mb-5 mx-auto"},Ae={class:"option__left"},Oe={class:"option__right"},je=be(()=>u("span",{class:"mr-3"},"Terminé",-1)),ze=be(()=>u("span",{class:"mr-3"},"En cours",-1)),We={class:"flex items-center mx-auto"},Ke={class:"flex items-center"},qe=O({__name:"TrainingSelector",setup(l){const c=K();function k(i){c.setSelectedTrainingId(i)}function s(i){const a=i==null?void 0:i.training_exercices;return a&&a.length?a.every(t=>t.is_done):!1}const b=h(()=>c.currentTraining);return(i,a)=>{var d;const t=se,o=q,x=Fe;return e(c).currentWeek?(m(),w("div",Je,[r(x,{"onUpdate:modelValue":k,modelValue:(d=e(b))==null?void 0:d.id,options:e(c).currentWeek.trainings,"option-attribute":"name","value-attribute":"id",uiMenu:{option:{padding:"p-0 w-full",container:"w-full",color:"bg-transparent",selected:"p-0",selectedIcon:{base:"hidden"}}}},{option:p(({option:n,selected:g})=>[u("div",{class:Y(["training-selector__option p-1.5",{"training-selector__option--selected":g,"training-selector__option--checked":s(n)}])},[u("div",Ae,T(n.name),1),u("div",Oe,[s(n)?(m(),w(A,{key:0},[je,r(t,{name:"i-solar-check-circle-outline"})],64)):g?(m(),w(A,{key:1},[ze,r(t,{name:"i-solar-dumbbell-large-minimalistic-linear"})],64)):R("",!0)])],2)]),default:p(()=>[r(o,{color:s(e(b))?"primary":"gray",variant:"outline",class:"training-selector__label",size:"lg",ui:{rounded:"rounded-full"}},{default:p(()=>{var n;return[u("div",We,[s(e(b))?(m(),I(t,{key:0,class:"mr-1",name:"i-solar-check-circle-outline"})):(m(),I(t,{key:1,class:"mr-1",name:"i-solar-dumbbell-large-minimalistic-linear"})),J(" "+T((n=e(b))==null?void 0:n.name),1)]),u("div",Ke,[r(t,{name:"i-heroicons-chevron-down-20-solid"})])]}),_:1},8,["color"])]),_:1},8,["modelValue","options"])])):R("",!0)}}}),Ge=Z(qe,[["__scopeId","data-v-7b93ee81"]]),He=l=>(ee("data-v-5b85f108"),l=l(),te(),l),Qe=He(()=>u("span",{class:"superset-divider__border superset-divider__border--bottom"},null,-1)),Xe=O({__name:"SupersetDivider",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:c}){const k=c,s=l;return(b,i)=>{const a=q;return m(),w("div",{class:Y(["superset-divider",{"superset-divider--active":s.modelValue}])},[r(a,{onClick:i[0]||(i[0]=t=>k("update:modelValue",!s.modelValue)),class:"superset-divider__button",color:s.modelValue?"primary":"gray",size:"2xs",variant:"soft",label:"superset",icon:s.modelValue?"i-solar-check-circle-linear":"i-solar-close-circle-linear"},null,8,["color","icon"]),Qe],2)}}}),Ye=Z(Xe,[["__scopeId","data-v-5b85f108"]]);var X=(l=>(l.Amrap="amrap",l))(X||{});const Se=l=>(ee("data-v-1ce09742"),l=l(),te(),l),Ze={key:0,class:"perf"},et={class:"perf__reps"},tt={key:0,class:"perf__reps-label ml-1"},nt=Se(()=>u("div",{class:"perf__at mx-1"},"@",-1)),it={class:"perf__weight"},ot=Se(()=>u("div",{class:"perf__unit ml-1"},"kg",-1)),st=O({__name:"SetPerf",props:{programSet:{}},setup(l){const c=l,k=h(()=>{const i=c.programSet.repetitions;if(i){let a=i;const t=c.programSet.personal_record;if(typeof i=="string")if(i.toLowerCase()===X.Amrap)a=X.Amrap.toUpperCase();else{const[o,x]=i.split("-");a=`${o} à ${x}`}return t&&(a+=" +"),a}return null}),s=h(()=>c.programSet.repetitions!==X.Amrap),b=h(()=>typeof c.programSet.weight=="number");return(i,a)=>i.programSet?(m(),w("div",Ze,[e(k)?(m(),w(A,{key:0},[u("div",et,T(e(k)),1),e(s)?(m(),w("div",tt,"reps")):R("",!0)],64)):R("",!0),e(b)?(m(),w(A,{key:1},[nt,u("div",it,T(i.programSet.weight),1),ot],64)):R("",!0)])):R("",!0)}}),rt=Z(st,[["__scopeId","data-v-1ce09742"]]);function Ee(){function l(){return{id:crypto.randomUUID(),type:E.Custom,repetitions:1,weight:null,exercice_max_weight_percentage:null,personal_record:!1,is_done:!1,displayable_set_information:{id:crypto.randomUUID(),type:Q.Label,value:null}}}function c(t){return typeof t=="string"?/^(\d+|\d+-\d+|amrap)$/i.test(t):Number.isInteger(t)}function k(t,o,x){const d=t.sets.findIndex(S=>S.id===o.id),n=d===-1,g=t.sets[t.sets.length-1],v=n?g:t.sets[d-1];if(v){const S=l();S.id=o.id;const $=i(t,v,x);if(typeof($==null?void 0:$.weight)=="number"){const C=pe($.weight+$.weight*5/100,4);S.weight=C}return S.type=E.Joker,S.repetitions=$.repetitions,S.displayable_set_information.type=Q.Label,S.displayable_set_information.value=E.Joker,S}return null}function s(t,o,x){const n=t.sets.findIndex(v=>v.id===o.id)===0,g=t.sets[0];if(g&&!n){const v=l(),S=i(t,g,x);return v.id=o.id,v.weight=S.weight,v.repetitions=X.Amrap,v.type=E.FSL,v.displayable_set_information.type=Q.Label,v.displayable_set_information.value=E.FSL,v}return null}function b(t,o,x){if(x){const d=l();let n=x.TM;if(o.type===E.RM&&(n=x.RM),d.id=o.id,d.weight=0,o.exercice_max_weight_percentage){d.weight=pe(o.exercice_max_weight_percentage*n,4);const g=o.exercice_max_weight_percentage*100;d.displayable_set_information.value=`${g} % ${o.type}`}return d.repetitions=o.repetitions,d.type=o.type,d.personal_record=o.personal_record,d.exercice_max_weight_percentage=o.exercice_max_weight_percentage,d.displayable_set_information.type=Q.Label,d}return null}function i(t,o,x){switch(o.type){case E.Joker:return k(t,o,x)||o;case E.FSL:return s(t,o,x)||o;case E.RM:case E.TM:return b(t,o,x)||o}return o}function a(t,o){const x=t.sets.findIndex(d=>d.id===o.id);switch(o.type){case E.Joker:case E.FSL:return x!==0;default:return!0}}return{getEmptySet:l,isRepetitionsValid:c,getComputedSet:i,isFirstSetTypeValid:a}}const ae=l=>(ee("data-v-83388d4e"),l=l(),te(),l),ct={class:"flex items-center justify-between"},at={class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"},lt={key:0,class:"text-base leading-6 text-gray-900 dark:text-white"},dt={class:"flex items-end"},ut=ae(()=>u("span",{class:"edition__perfs-at"},"@",-1)),pt=ae(()=>u("span",{class:"text-gray-500 dark:text-gray-400 text-xs"},"Kg",-1)),_t={class:"text-gray-500 dark:text-gray-400 text-[10px]"},mt=ae(()=>u("span",{class:"text-gray-500 dark:text-gray-400 text-xs"},"% décimal",-1)),ft={key:0,class:"flex items-end"},xt={key:1,class:"flex items-end"},gt={class:"flex justify-center mt-5"},ht=O({__name:"EditionSetPopin",props:{modelValue:{type:Boolean,default:!1},trainingExercice:{},exerciceSet:{},isEdition:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:c}){const k=c,s=l,b=ce(),i=K(),{getEmptySet:a,isRepetitionsValid:t,getComputedSet:o,isFirstSetTypeValid:x}=Ee(),{t:d}=Te(),n=N(a()),g=h(()=>{switch(n.value.type){case E.Joker:case E.FSL:return!0;default:return!1}}),v=h(()=>{switch(n.value.type){case E.RM:case E.TM:return!0;default:return!1}}),S=h(()=>b.exercices.find(y=>y.id===s.trainingExercice.exercice_id)),$=h(()=>s.trainingExercice.sets.findIndex(y=>{var _;return y.id===((_=s.exerciceSet)==null?void 0:_.id)})),C=h(()=>o(s.trainingExercice,n.value,S.value)),U=h(()=>s.isEdition?"Edition d'une série":"Créer une série"),B=h(()=>{if(S.value){const y=$.value>-1?$.value+1:s.trainingExercice.sets.length+1;return`${S.value.name}, série n°${y}`}return null}),f=h(()=>{switch(n.value.type){case E.Custom:case E.FSL:case E.Joker:return!0;default:return!1}}),V=h(()=>{switch(n.value.type){case E.RM:case E.TM:return!0;default:return!1}}),L=h(()=>{var y,_;switch(n.value.type){case E.RM:return((y=S.value)==null?void 0:y.RM)||0;case E.TM:return((_=S.value)==null?void 0:_.TM)||0}return 0});function P(){s.isEdition?i.updateProgramSet(n.value,s.trainingExercice):i.addProgramSet(n.value,s.trainingExercice),j()}function j(){k("update:modelValue",!1)}const G=h(()=>Object.values(E).map(y=>({id:y,label:d(`exerciceSet.type.${y}`)}))),W=h(()=>[Q.Label].map(y=>({id:y,label:d(`exerciceSet.information.type.${y}`)})));function ne(y){const M=!isNaN(Number(y))?Number(y):y;n.value.repetitions=M}function ie(y){const _=[];return y.repetitions||_.push({path:"perf",message:"Les répétitions sont requise"}),t(y.repetitions)||_.push({path:"perf",message:"Formats valides : xx, xx-xx ou amrap"}),x(s.trainingExercice,y)||_.push({path:"type",message:"Ce type de série ne peut pas être en 1ère position !!!!!"}),V.value&&!De(y.exercice_max_weight_percentage)&&_.push({path:"perf",message:`Le ${y.type} % doit être compris entre 0 et 1`}),_}function oe(){s.exerciceSet?n.value=JSON.parse(JSON.stringify(s.exerciceSet)):n.value=a()}return fe(()=>s.modelValue,y=>{y&&oe()}),(y,_)=>{const M=q,H=Ue,F=Ie,z=Ce,le=ge,Ve=Pe,we=he,$e=ve;return m(),I($e,{"model-value":s.modelValue,"onUpdate:modelValue":j,ui:{container:"items-center"}},{default:p(()=>[r(we,{ui:{body:{base:"border-solid"}}},{header:p(()=>[u("div",ct,[u("h3",at,T(e(U)),1),r(M,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",onClick:j})]),e(B)?(m(),w("p",lt,T(e(B)),1)):R("",!0)]),default:p(()=>[r(Ve,{validate:ie,state:e(n),class:"space-y-4",onSubmit:P},{default:p(()=>[u("div",null,[r(F,{label:"Type de série",name:"type"},{default:p(()=>[r(H,{options:e(G),"option-attribute":"label","value-attribute":"id",modelValue:e(n).type,"onUpdate:modelValue":_[0]||(_[0]=D=>e(n).type=D)},null,8,["options","modelValue"])]),_:1})]),u("div",null,[r(F,{name:"perf"},{default:p(()=>[u("div",dt,[e(g)?(m(),I(F,{key:0,class:"edition__perf-item",label:"Répetitions"},{default:p(()=>[r(z,{type:"text",disabled:!0,modelValue:e(C).repetitions},null,8,["modelValue"])]),_:1})):(m(),I(F,{key:1,class:"edition__perf-item",label:"Répetitions"},{default:p(()=>[r(z,{placeholder:"10",type:"text",onChange:ne,modelValue:e(n).repetitions,"validate-on":["change"]},null,8,["modelValue"])]),_:1})),ut,e(f)?(m(),w(A,{key:2},[e(g)?(m(),I(F,{key:0,class:"edition__perf-item",label:"Weight"},{default:p(()=>[r(z,{type:"text",disabled:!0,modelValue:e(C).weight},null,8,["modelValue"])]),_:1})):(m(),I(F,{key:1,class:"edition__perf-item",label:"Weight"},{default:p(()=>[r(z,{placeholder:"80",type:"number",step:"0.01",onKeydown:e(_e),modelValue:e(n).weight,"onUpdate:modelValue":_[1]||(_[1]=D=>e(n).weight=D)},{trailing:p(()=>[pt]),_:1},8,["onKeydown","modelValue"])]),_:1}))],64)):R("",!0),e(V)?(m(),I(F,{key:3,class:"edition__perf-item"},{label:p(()=>[u("p",null,[J(" % "+T(e(n).type)+" - ",1),u("span",_t,"Exercice "+T(e(n).type)+" "+T(e(L))+"kg",1)])]),default:p(()=>[r(z,{placeholder:"0.7",type:"number",step:"0.01",onKeydown:e(_e),modelValue:e(n).exercice_max_weight_percentage,"onUpdate:modelValue":_[2]||(_[2]=D=>e(n).exercice_max_weight_percentage=D)},{trailing:p(()=>[mt]),_:1},8,["onKeydown","modelValue"])]),_:1})):R("",!0)])]),_:1}),e(g)?(m(),I(le,{key:0,class:"mt-2",modelValue:e(C).personal_record,"onUpdate:modelValue":_[3]||(_[3]=D=>e(C).personal_record=D),name:"isPR",label:"Personal records",disabled:!0},null,8,["modelValue"])):(m(),I(le,{key:1,class:"mt-2",modelValue:e(n).personal_record,"onUpdate:modelValue":_[4]||(_[4]=D=>e(n).personal_record=D),name:"isPR",label:"Personal records"},null,8,["modelValue"]))]),u("div",null,[e(g)||e(v)?(m(),w("div",ft,[r(F,{class:"flex-1",label:"Infos affichable"},{default:p(()=>[r(H,{class:"flex-1","option-attribute":"label","value-attribute":"id",options:e(W),modelValue:e(C).displayable_set_information.type,disabled:!0},null,8,["options","modelValue"])]),_:1}),r(F,{class:"flex-1"},{default:p(()=>[r(z,{class:"ml-1 flex-1",modelValue:e(C).displayable_set_information.value,disabled:!0},null,8,["modelValue"])]),_:1})])):(m(),w("div",xt,[r(F,{class:"flex-1",label:"Infos affichable"},{default:p(()=>[r(H,{class:"flex-1",options:e(W),"option-attribute":"label","value-attribute":"id",modelValue:e(n).displayable_set_information.type},null,8,["options","modelValue"])]),_:1}),r(F,{class:"flex-1"},{default:p(()=>[r(z,{class:"ml-1 flex-1",placeholder:"Label",modelValue:e(n).displayable_set_information.value,"onUpdate:modelValue":_[5]||(_[5]=D=>e(n).displayable_set_information.value=D)},null,8,["modelValue"])]),_:1})]))]),u("div",gt,[r(M,{type:"submit"},{default:p(()=>[J("Valider")]),_:1})])]),_:1},8,["state"])]),_:1})]),_:1},8,["model-value"])}}}),ke=Z(ht,[["__scopeId","data-v-83388d4e"]]),vt={class:"setitem__left"},yt={class:"setitem__counter"},bt={class:"setitem__right"},St={key:1,class:"setitem__label"},Et=O({__name:"SetItem",props:{check:{type:Boolean,default:!1},programSet:{},trainingExercice:{}},setup(l){const c=l,k=K(),{getComputedSet:s,isFirstSetTypeValid:b}=Ee(),i=ce(),a=N(!1),t=N(!1),o=h(()=>{var U,B;return(B=(U=g.value)==null?void 0:U.displayable_set_information)==null?void 0:B.value}),x=h(()=>c.trainingExercice.sets.findIndex(U=>U.id===c.programSet.id)),d=h(()=>x.value+1),n=h(()=>i.exercices.find(U=>U.id===c.trainingExercice.exercice_id)),g=h(()=>s(c.trainingExercice,c.programSet,n.value)),v=h(()=>c.trainingExercice.is_done);function S(U){U&&(t.value=!1)}const $=h(()=>{if(b(c.trainingExercice,g.value))switch(g.value.type){case E.FSL:return{color:"violet",isBadge:!0};case E.Joker:return{color:"emerald",isBadge:!0}}return{color:null,isBadge:!1}});function C(){const U=t.value;return[[{label:"Editer",icon:"i-heroicons-pencil-square",click:()=>{a.value=!0}}],[{label:U?"Confirmer":"Supprimer",icon:"i-heroicons-trash",iconClass:U?"text-red-400":null,labelClass:U?"text-red-400":null,click:B=>{if(B.preventDefault(),t.value){k.deleteProgramSet(c.programSet,c.trainingExercice);return}t.value=!0}}]]}return(U,B)=>{const f=rt,V=me,L=q,P=ye,j=se,G=ke;return e(g)?(m(),w("div",{key:0,class:Y(["setitem p-3",{"setitem--check":e(v)}])},[u("div",vt,[u("span",yt,T(e(d)),1),r(f,{class:"setitem__perf",programSet:e(g)},null,8,["programSet"])]),u("div",bt,[e($).isBadge?(m(),I(V,{key:0,size:"xs",label:e(o),color:e($).color},null,8,["label","color"])):(m(),w("div",St,T(e(o)),1)),r(P,{ui:{padding:"border-solid",item:{base:"border-solid"}},items:C(),popper:{placement:"bottom-start"},"onUpdate:open":S},{default:p(()=>[r(L,{class:"setitem__options mx-2",icon:"i-heroicons-ellipsis-horizontal",size:"2xs",color:"gray",variant:"soft"})]),_:1},8,["items"]),e(v)?(m(),I(j,{key:2,class:"setitem__check",name:"i-solar-check-read-outline"})):R("",!0)]),r(G,{modelValue:e(a),"onUpdate:modelValue":B[0]||(B[0]=W=>re(a)?a.value=W:null),"exercice-set":U.programSet,"training-exercice":c.trainingExercice,"is-edition":!0},null,8,["modelValue","exercice-set","training-exercice"])],2)):R("",!0)}}}),kt=Z(Et,[["__scopeId","data-v-fce28465"]]),Vt={class:"flex items-center justify-between"},wt={class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"},$t={class:"justify-center flex"},Ut=O({__name:"AddExercicePopin",props:{modelValue:{type:Boolean,default:!1},trainingExercice:{},isRecommendation:{type:Boolean},exercicesList:{}},emits:["update:modelValue"],setup(l,{emit:c}){const k=c,s=l,b=K(),i=N(null);function a(){k("update:modelValue",!1)}function t(){var n;let d=JSON.parse(JSON.stringify(s.trainingExercice));if(d.exercice_id=(n=i.value)==null?void 0:n.id,s.isRecommendation){const g=d.recommended_training_exercices.find(v=>{var S;return v.exercice_id===((S=i.value)==null?void 0:S.id)});d.sets=(g==null?void 0:g.sets)||[]}d.is_done=!1,b.updateTrainingExercice(d),a()}const o=h(()=>s.trainingExercice.exercice_id?"Changer d'exercice":"Ajouter un exercice"),x=h(()=>s.isRecommendation?"Recommandations du coach :":"Exercices");return fe(()=>s.modelValue,d=>{d||(i.value=null)}),(d,n)=>{const g=q,v=Me,S=he,$=ve;return m(),I($,{"model-value":s.modelValue,"onUpdate:modelValue":a,ui:{container:"items-center h-full px-0 pb-0 pt-14",height:"h-full rounded-b-none"}},{default:p(()=>[r(S,{ui:{base:"h-full flex flex-col",body:{base:"border-solid flex-1 border-b-none"}}},{header:p(()=>[u("div",Vt,[u("h3",wt,T(e(o)),1),r(g,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",onClick:a})])]),footer:p(()=>[u("div",$t,[de(d.$slots,"action"),r(g,{type:"button",disabled:!e(i),color:e(i)?"primary":"gray",onClick:t},{default:p(()=>[J("Valider")]),_:1},8,["disabled","color"])])]),default:p(()=>[r(v,{muscle:"All",selectable:!0,"selected-exercice":e(i),"onUpdate:selectedExercice":n[0]||(n[0]=C=>re(i)?i.value=C:null),title:e(x),filterable:!s.isRecommendation,"exercices-list":s.exercicesList},null,8,["selected-exercice","title","filterable","exercices-list"]),de(d.$slots,"default")]),_:3})]),_:3},8,["model-value"])}}}),It={key:0,class:"c-accordion__container"},Ct={class:"c-accordion-heading"},Lt={class:"c-accordion-heading__content c-accordion-heading__content--bigger"},Tt={class:"c-accordion-heading__left"},Rt={class:"text-sm"},Bt={class:"c-accordion-heading__trailing"},Ft={class:"c-accordion-heading__content c-accordion-heading__content--bigger"},Dt={class:"c-accordion-heading__left"},Pt={class:"c-accordion-heading__trailing"},Mt={class:"flex justify-center"},Nt=O({__name:"TrainingExercice",props:{trainingExercice:{},trainingIndex:{},supersetUp:{type:Boolean,default:!1},supersetDown:{type:Boolean,default:!1}},setup(l){const c=l,k=ce(),s=K(),b=N(!1),i=N(!1),a=N(!1),t=N(!1),o=h(()=>k.exercices.find(f=>f.id===c.trainingExercice.exercice_id)),x=h(()=>c.trainingExercice.recommended_training_exercices.map(V=>k.exercices.find(P=>P.id===V.exercice_id)).filter(V=>V&&V.id!==c.trainingExercice.exercice_id)),d=h(()=>k.exercices.filter(f=>!c.trainingExercice.recommended_training_exercices.map(P=>P.exercice_id).includes(f.id)&&f.id!==c.trainingExercice.exercice_id)),n=h(()=>c.trainingExercice.recommended_training_exercices.length),g=h(()=>c.supersetDown||c.supersetUp);function v(){const f=JSON.parse(JSON.stringify(c.trainingExercice));f.is_done=!f.is_done,s.updateTrainingExercice(f)}function S(f){i.value=f,a.value=!f}function $(f){if(!f){a.value=!1,i.value=!1;return}a.value=f,i.value=!f}function C(f){if(n.value){$(f);return}S(f)}function U(f){f&&(t.value=!1)}function B(){const f=t.value;return[[{label:"Changer d'exercice",icon:"i-solar-refresh-outline",click:()=>{C(!0)}}],[{label:f?"Confirmer":"Supprimer",icon:"i-heroicons-trash",iconClass:f?"text-red-400":null,labelClass:f?"text-red-400":null,click:V=>{if(V.preventDefault(),t.value){const L=JSON.parse(JSON.stringify(c.trainingExercice));L.exercice_id=null,s.updateTrainingExercice(L);return}t.value=!0}}]]}return(f,V)=>{const L=q,P=ge,j=me,G=ye,W=se,ne=kt,ie=Ne,oe=ke,y=Ut;return m(),w("div",{class:Y(["c-accordion",{"c-accordion--top-radiusless":f.supersetUp,"c-accordion--bottom-radiusless":f.supersetDown}])},[e(o)?(m(),I(ie,{key:1,items:[c.trainingExercice],ui:{container:"c-accordion__container",item:{padding:"p-0"}}},{default:p(({item:_,index:M,open:H})=>[r(L,{color:"gray",variant:"ghost",class:Y(["c-accordion-heading",{"c-accordion-heading--active":H,"c-accordion-heading--check":_.is_done}]),ui:{}},{leading:p(()=>[u("div",{onClick:ue(v,["stop"]),class:"c-accordion__leading p-3"},[r(P,{color:"primary","model-value":_.is_done,ui:{}},null,8,["model-value"])])]),default:p(()=>[u("div",Ft,[u("div",Dt,[u("span",null,T(f.trainingIndex+1)+". "+T(e(o).name),1)]),u("div",Pt,[e(g)?(m(),I(j,{key:0,color:"white",variant:"solid",size:"xs"},{default:p(()=>[J("Superset")]),_:1})):R("",!0),r(G,{onClick:V[1]||(V[1]=ue(()=>{},["prevent","stop"])),ui:{padding:"border-solid",item:{base:"border-solid"}},items:B(),popper:{placement:"bottom-start"},"onUpdate:open":U},{default:p(()=>[r(L,{class:"setitem__options mx-2",icon:"i-solar-menu-dots-bold",size:"2xs",color:"gray",variant:"soft"})]),_:1},8,["items"]),r(W,{name:"i-heroicons-chevron-right-20-solid",class:"c-accordion-heading__chevron"})])])]),_:2},1032,["class"])]),item:p(({item:_})=>[(m(!0),w(A,null,xe(_.sets,M=>(m(),I(ne,{key:M.id,"program-set":M,"training-exercice":_},null,8,["program-set","training-exercice"]))),128)),r(L,{onClick:V[2]||(V[2]=M=>b.value=!0),icon:"i-heroicons-pencil-square",size:"sm",variant:"soft",label:"Créer une série",class:"mt-3 mb-6 mx-3",trailing:!1,color:_.is_done?"white":"primary",disabled:_.is_done},null,8,["color","disabled"])]),_:1},8,["items"])):(m(),w("div",It,[u("div",Ct,[u("div",Lt,[u("div",Tt,[u("span",Rt,"Exercice "+T(f.trainingIndex+1),1)]),u("div",Bt,[r(L,{icon:"i-heroicons-plus-circle",size:"xs",onClick:V[0]||(V[0]=_=>C(!0))},{default:p(()=>[J("Ajouter")]),_:1})])])])])),r(oe,{modelValue:e(b),"onUpdate:modelValue":V[3]||(V[3]=_=>re(b)?b.value=_:null),"training-exercice":c.trainingExercice,"is-edition":!1},null,8,["modelValue","training-exercice"]),r(y,{"onUpdate:modelValue":$,"model-value":e(a),"training-exercice":c.trainingExercice,"is-recommendation":!0,"exercices-list":e(x)},{default:p(()=>[u("div",Mt,[r(L,{variant:"outline",icon:"i-heroicons-plus",onClick:V[4]||(V[4]=_=>S(!0))},{default:p(()=>[J("Choisir un autre exercice")]),_:1})])]),_:1},8,["model-value","training-exercice","exercices-list"]),r(y,{"onUpdate:modelValue":$,"model-value":e(i),"training-exercice":c.trainingExercice,"exercices-list":e(d)},Re({_:2},[e(n)?{name:"action",fn:p(()=>[r(L,{type:"button",icon:"i-heroicons-arrow-left",class:"mr-2",variant:"outline",onClick:V[5]||(V[5]=_=>S(!1))},{default:p(()=>[J("Retour")]),_:1})]),key:"0"}:void 0]),1032,["model-value","training-exercice","exercices-list"])],2)}}}),Jt=Be("supersetsStore",()=>{const l=N([]);function c(b){const[i,a]=b;i&&a&&(l.value.find(o=>o.includes(i)&&o.includes(a))||l.value.push(b))}function k(b){const[i,a]=b;l.value=l.value.filter(t=>!(t.includes(i)&&t.includes(a)))}function s(b){const[i,a]=b;return l.value.find(t=>t.includes(i)&&t.includes(a))}return{supersetExercices:l,addSupersetExercice:c,deleteSupersetExercice:k,getSupersetExercice:s}},{persist:!0}),zt=O({__name:"index",setup(l){const c=K(),k=Jt(),s=h(()=>c.currentTraining.training_exercices);function b(a){const t=s.value[a],o=s.value[a-1],x=[t.id,o.id];k.getSupersetExercice(x)?k.deleteSupersetExercice(x):k.addSupersetExercice(x)}function i(a){if(a===0||a>s.value.length-1)return!1;const t=s.value[a],o=s.value[a-1],x=[t.id,o.id];return!!k.getSupersetExercice(x)}return(a,t)=>{const o=Le,x=Ge,d=Ye,n=Nt;return m(),w("div",null,[r(o,{title:"Training","context-label":"Mercredi (pecs)"}),u("div",null,[r(x),(m(!0),w(A,null,xe(e(s),(g,v)=>(m(),w(A,{key:g.id},[v!==0?(m(),I(d,{key:0,"onUpdate:modelValue":S=>b(v),"model-value":i(v)},null,8,["onUpdate:modelValue","model-value"])):R("",!0),r(n,{"training-exercice":g,"training-index":v,"superset-down":i(v+1),"superset-up":i(v)},null,8,["training-exercice","training-index","superset-down","superset-up"])],64))),128))])])}}});export{zt as default};
