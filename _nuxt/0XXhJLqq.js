import{u as q,S,D as X,_ as Ue}from"./CPQp_N9D.js";import{g as O,j as v,k as e,o as p,c as $,b as i,w as d,a as c,t as L,F as A,h as T,n as Z,x as C,d as N,l as se,m as G,p as ee,f as te,_ as W,z as Ce,s as J,v as me,y as re,r as de,B as ue,A as fe,C as Ie,T as Re}from"./B7hC0jM-.js";import{e as Le,r as pe,j as _e,k as Te,l as xe,_ as Be,a as ge,b as he,m as ve,d as ye,i as Fe,n as De}from"./Ccgp1fYr.js";import{c as Pe,b as Me,_ as Ne}from"./CtbjoAXR.js";import{u as ae}from"./Cq3JvNS9.js";import{u as Je}from"./__gsL7dk.js";const be=_=>(ee("data-v-1c5cef8f"),_=_(),te(),_),Ae={key:0,class:"training-selector mb-5 mx-auto"},Oe={class:"option__left"},je={class:"option__right"},ze=be(()=>c("span",{class:"mr-3"},"Terminé",-1)),We=be(()=>c("span",{class:"mr-3"},"En cours",-1)),Ke={class:"flex items-center mx-auto"},qe={class:"flex items-center"},Ge=O({__name:"TrainingSelector",setup(_){const r=q();function V(a){r.setSelectedTrainingId(a)}function n(a){const l=a==null?void 0:a.training_exercices;return l&&l.length?l.every(o=>o.is_done):!1}const E=v(()=>r.currentTraining);return(a,l)=>{var f;const o=se,s=G,x=Le;return e(r).currentWeek?(p(),$("div",Ae,[i(x,{"onUpdate:modelValue":V,modelValue:(f=e(E))==null?void 0:f.id,options:e(r).currentWeek.trainings,"option-attribute":"name","value-attribute":"id",uiMenu:{option:{padding:"p-0 w-full",container:"w-full",color:"bg-transparent",selected:"p-0",selectedIcon:{base:"hidden"}}}},{option:d(({option:t,selected:g})=>[c("div",{class:Z(["training-selector__option px-1.5 py-3",{"training-selector__option--selected":g,"training-selector__option--checked":n(t)}])},[c("div",Oe,L(t.name),1),c("div",je,[n(t)?(p(),$(A,{key:0},[ze,i(o,{name:"i-solar-check-circle-outline"})],64)):g?(p(),$(A,{key:1},[We,i(o,{name:"i-solar-dumbbell-large-minimalistic-linear"})],64)):T("",!0)])],2)]),default:d(()=>[i(s,{color:n(e(E))?"primary":"gray",variant:"outline",class:"training-selector__label",size:"xl",ui:{rounded:"rounded-full"}},{default:d(()=>{var t;return[c("div",Ke,[n(e(E))?(p(),C(o,{key:0,class:"mr-1",name:"i-solar-check-circle-outline"})):(p(),C(o,{key:1,class:"mr-1",name:"i-solar-dumbbell-large-minimalistic-linear"})),N(" "+L((t=e(E))==null?void 0:t.name),1)]),c("div",qe,[i(o,{name:"i-heroicons-chevron-down-20-solid"})])]}),_:1},8,["color"])]),_:1},8,["modelValue","options"])])):T("",!0)}}}),He=W(Ge,[["__scopeId","data-v-1c5cef8f"]]),Qe=_=>(ee("data-v-5b85f108"),_=_(),te(),_),Xe=Qe(()=>c("span",{class:"superset-divider__border superset-divider__border--bottom"},null,-1)),Ye=O({__name:"SupersetDivider",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(_,{emit:r}){const V=r,n=_;return(E,a)=>{const l=G;return p(),$("div",{class:Z(["superset-divider",{"superset-divider--active":n.modelValue}])},[i(l,{onClick:a[0]||(a[0]=o=>V("update:modelValue",!n.modelValue)),class:"superset-divider__button",color:n.modelValue?"primary":"gray",size:"2xs",variant:"soft",label:"superset",icon:n.modelValue?"i-solar-check-circle-linear":"i-solar-close-circle-linear"},null,8,["color","icon"]),Xe],2)}}}),Ze=W(Ye,[["__scopeId","data-v-5b85f108"]]);var Y=(_=>(_.Amrap="amrap",_))(Y||{});const Se=_=>(ee("data-v-1ce09742"),_=_(),te(),_),et={key:0,class:"perf"},tt={class:"perf__reps"},nt={key:0,class:"perf__reps-label ml-1"},ot=Se(()=>c("div",{class:"perf__at mx-1"},"@",-1)),it={class:"perf__weight"},st=Se(()=>c("div",{class:"perf__unit ml-1"},"kg",-1)),rt=O({__name:"SetPerf",props:{programSet:{}},setup(_){const r=_,V=v(()=>{const a=r.programSet.repetitions;if(a){let l=a;const o=r.programSet.personal_record;if(typeof a=="string")if(a.toLowerCase()===Y.Amrap)l=Y.Amrap.toUpperCase();else{const[s,x]=a.split("-");l=`${s} à ${x}`}return o&&(l+=" +"),l}return null}),n=v(()=>r.programSet.repetitions!==Y.Amrap),E=v(()=>typeof r.programSet.weight=="number");return(a,l)=>a.programSet?(p(),$("div",et,[e(V)?(p(),$(A,{key:0},[c("div",tt,L(e(V)),1),e(n)?(p(),$("div",nt,"reps")):T("",!0)],64)):T("",!0),e(E)?(p(),$(A,{key:1},[ot,c("div",it,L(a.programSet.weight),1),st],64)):T("",!0)])):T("",!0)}}),at=W(rt,[["__scopeId","data-v-1ce09742"]]);function ke(){function _(){return{id:crypto.randomUUID(),type:S.Custom,repetitions:1,weight:null,exercice_max_weight_percentage:null,personal_record:!1,is_done:!1,displayable_set_information:{id:crypto.randomUUID(),type:X.Label,value:null}}}function r(o){return typeof o=="string"?/^(\d+|\d+-\d+|amrap)$/i.test(o):Number.isInteger(o)}function V(o,s,x){const f=o.sets.findIndex(b=>b.id===s.id),t=f===-1,g=o.sets[o.sets.length-1],m=t?g:o.sets[f-1];if(m){const b=_();b.id=s.id;const w=a(o,m,x);if(typeof(w==null?void 0:w.weight)=="number"){const I=pe(w.weight+w.weight*5/100,4);b.weight=I}return b.type=S.Joker,b.repetitions=w.repetitions,b.displayable_set_information.type=X.Label,b.displayable_set_information.value=S.Joker,b}return null}function n(o,s,x){const t=o.sets.findIndex(m=>m.id===s.id)===0,g=o.sets[0];if(g&&!t){const m=_(),b=a(o,g,x);return m.id=s.id,m.weight=b.weight,m.repetitions=Y.Amrap,m.type=S.FSL,m.displayable_set_information.type=X.Label,m.displayable_set_information.value=S.FSL,m}return null}function E(o,s,x){if(x){const f=_();let t=x.TM;if(s.type===S.RM&&(t=x.RM),f.id=s.id,f.weight=0,s.exercice_max_weight_percentage){f.weight=pe(s.exercice_max_weight_percentage*t,4);const g=s.exercice_max_weight_percentage*100;f.displayable_set_information.value=`${g} % ${s.type}`}return f.repetitions=s.repetitions,f.type=s.type,f.personal_record=s.personal_record,f.exercice_max_weight_percentage=s.exercice_max_weight_percentage,f.displayable_set_information.type=X.Label,f}return null}function a(o,s,x){switch(s.type){case S.Joker:return V(o,s,x)||s;case S.FSL:return n(o,s,x)||s;case S.RM:case S.TM:return E(o,s,x)||s}return s}function l(o,s){const x=o.sets.findIndex(f=>f.id===s.id);switch(s.type){case S.Joker:case S.FSL:return x!==0;default:return!0}}return{getEmptySet:_,isRepetitionsValid:r,getComputedSet:a,isFirstSetTypeValid:l}}const ce=_=>(ee("data-v-39eaf07f"),_=_(),te(),_),ct={class:"flex items-center justify-between"},lt={class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"},dt={key:0,class:"text-base leading-6 text-gray-900 dark:text-white"},ut={class:"flex items-end"},pt=ce(()=>c("span",{class:"edition__perfs-at"},"@",-1)),_t=ce(()=>c("span",{class:"text-gray-500 dark:text-gray-400 text-xs"},"Kg",-1)),mt={class:"text-gray-500 dark:text-gray-400 text-[10px]"},ft=ce(()=>c("span",{class:"text-gray-500 dark:text-gray-400 text-xs"},"% décimal",-1)),xt={key:0,class:"flex items-end"},gt={key:1,class:"flex items-end"},ht={class:"flex justify-center mt-5"},vt=O({__name:"EditionSetPopin",props:{modelValue:{type:Boolean,default:!1},trainingExercice:{},exerciceSet:{},isEdition:{type:Boolean}},emits:["update:modelValue"],setup(_,{emit:r}){const V=r,n=_,E=ae(),a=q(),{getEmptySet:l,isRepetitionsValid:o,getComputedSet:s,isFirstSetTypeValid:x}=ke(),{t:f}=Ce(),t=J(l()),g=v(()=>{switch(t.value.type){case S.Joker:case S.FSL:return!0;default:return!1}}),m=v(()=>{switch(t.value.type){case S.RM:case S.TM:return!0;default:return!1}}),b=v(()=>E.exercices.find(y=>y.id===n.trainingExercice.exercice_id)),w=v(()=>n.trainingExercice.sets.findIndex(y=>{var u;return y.id===((u=n.exerciceSet)==null?void 0:u.id)})),I=v(()=>s(n.trainingExercice,t.value,b.value)),U=v(()=>n.isEdition?"Edition d'une série":"Créer une série"),B=v(()=>{if(b.value){const y=w.value>-1?w.value+1:n.trainingExercice.sets.length+1;return`${b.value.name}, série n°${y}`}return null}),h=v(()=>{switch(t.value.type){case S.Custom:case S.FSL:case S.Joker:return!0;default:return!1}}),k=v(()=>{switch(t.value.type){case S.RM:case S.TM:return!0;default:return!1}}),R=v(()=>{var y,u;switch(t.value.type){case S.RM:return((y=b.value)==null?void 0:y.RM)||0;case S.TM:return((u=b.value)==null?void 0:u.TM)||0}return 0});function P(){n.isEdition?a.updateProgramSet(t.value,n.trainingExercice):a.addProgramSet(t.value,n.trainingExercice),j()}function j(){V("update:modelValue",!1)}const H=v(()=>Object.values(S).map(y=>({id:y,label:f(`exerciceSet.type.${y}`)}))),K=v(()=>[X.Label].map(y=>({id:y,label:f(`exerciceSet.information.type.${y}`)})));function ne(y){const M=!isNaN(Number(y))?Number(y):y;t.value.repetitions=M}function oe(y){const u=[];return y.repetitions||u.push({path:"perf",message:"Les répétitions sont requise."}),o(y.repetitions)||u.push({path:"perf",message:"Formats valides : xx, xx-xx ou amrap."}),x(n.trainingExercice,y)||u.push({path:"type",message:"Ce type de série ne peut pas être en 1ère position."}),k.value&&!Te(y.exercice_max_weight_percentage)&&u.push({path:"perf",message:`Le ${y.type} % doit être compris entre 0 et 1.`}),u}function ie(){n.exerciceSet?t.value=JSON.parse(JSON.stringify(n.exerciceSet)):t.value=l()}return me(()=>n.modelValue,y=>{y&&ie()}),(y,u)=>{const M=G,Q=Pe,F=Me,z=Ne,le=xe,Ee=Be,we=ge,$e=he;return p(),C($e,{"model-value":n.modelValue,"onUpdate:modelValue":j,ui:{container:"items-center"}},{default:d(()=>[i(we,{ui:{body:{base:"border-solid"}}},{header:d(()=>[c("div",ct,[c("h3",lt,L(e(U)),1),i(M,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",onClick:j})]),e(B)?(p(),$("p",dt,L(e(B)),1)):T("",!0)]),default:d(()=>[i(Ee,{validate:oe,state:e(t),class:"space-y-4",onSubmit:P},{default:d(()=>[c("div",null,[i(F,{label:"Type de série",name:"type"},{default:d(()=>[i(Q,{options:e(H),"option-attribute":"label","value-attribute":"id",modelValue:e(t).type,"onUpdate:modelValue":u[0]||(u[0]=D=>e(t).type=D)},null,8,["options","modelValue"])]),_:1})]),c("div",null,[i(F,{name:"perf"},{default:d(()=>[c("div",ut,[e(g)?(p(),C(F,{key:0,class:"edition__perf-item",label:"Répetitions"},{default:d(()=>[i(z,{type:"text",disabled:!0,modelValue:e(I).repetitions},null,8,["modelValue"])]),_:1})):(p(),C(F,{key:1,class:"edition__perf-item",label:"Répetitions"},{default:d(()=>[i(z,{placeholder:"10",type:"text",onChange:ne,modelValue:e(t).repetitions,"validate-on":["change"]},null,8,["modelValue"])]),_:1})),pt,e(h)?(p(),$(A,{key:2},[e(g)?(p(),C(F,{key:0,class:"edition__perf-item",label:"Weight"},{default:d(()=>[i(z,{type:"text",disabled:!0,modelValue:e(I).weight},null,8,["modelValue"])]),_:1})):(p(),C(F,{key:1,class:"edition__perf-item",label:"Weight"},{default:d(()=>[i(z,{placeholder:"80",type:"number",step:"0.01",onKeydown:e(_e),modelValue:e(t).weight,"onUpdate:modelValue":u[1]||(u[1]=D=>e(t).weight=D)},{trailing:d(()=>[_t]),_:1},8,["onKeydown","modelValue"])]),_:1}))],64)):T("",!0),e(k)?(p(),C(F,{key:3,class:"edition__perf-item"},{label:d(()=>[c("p",null,[N(" % "+L(e(t).type)+" - ",1),c("span",mt,"Exercice "+L(e(t).type)+" "+L(e(R))+"kg",1)])]),default:d(()=>[i(z,{placeholder:"0.7",type:"number",step:"0.01",onKeydown:e(_e),modelValue:e(t).exercice_max_weight_percentage,"onUpdate:modelValue":u[2]||(u[2]=D=>e(t).exercice_max_weight_percentage=D)},{trailing:d(()=>[ft]),_:1},8,["onKeydown","modelValue"])]),_:1})):T("",!0)])]),_:1}),e(g)?(p(),C(le,{key:0,class:"mt-2",modelValue:e(I).personal_record,"onUpdate:modelValue":u[3]||(u[3]=D=>e(I).personal_record=D),name:"isPR",label:"Record personnel (PR)",disabled:!0},null,8,["modelValue"])):(p(),C(le,{key:1,class:"mt-2",modelValue:e(t).personal_record,"onUpdate:modelValue":u[4]||(u[4]=D=>e(t).personal_record=D),name:"isPR",label:"Record personnel (PR)"},null,8,["modelValue"]))]),c("div",null,[e(g)||e(m)?(p(),$("div",xt,[i(F,{class:"flex-1",label:"Infos affichable"},{default:d(()=>[i(Q,{class:"flex-1","option-attribute":"label","value-attribute":"id",options:e(K),modelValue:e(I).displayable_set_information.type,disabled:!0},null,8,["options","modelValue"])]),_:1}),i(F,{class:"flex-1"},{default:d(()=>[i(z,{class:"ml-1 flex-1",modelValue:e(I).displayable_set_information.value,disabled:!0},null,8,["modelValue"])]),_:1})])):(p(),$("div",gt,[i(F,{class:"flex-1",label:"Infos affichable"},{default:d(()=>[i(Q,{class:"flex-1",options:e(K),"option-attribute":"label","value-attribute":"id",modelValue:e(t).displayable_set_information.type},null,8,["options","modelValue"])]),_:1}),i(F,{class:"flex-1"},{default:d(()=>[i(z,{class:"ml-1 flex-1",placeholder:"Label",modelValue:e(t).displayable_set_information.value,"onUpdate:modelValue":u[5]||(u[5]=D=>e(t).displayable_set_information.value=D)},null,8,["modelValue"])]),_:1})]))]),c("div",ht,[i(M,{type:"submit"},{default:d(()=>[N("Valider")]),_:1})])]),_:1},8,["state"])]),_:1})]),_:1},8,["model-value"])}}}),Ve=W(vt,[["__scopeId","data-v-39eaf07f"]]),yt={class:"setitem__left"},bt={class:"setitem__counter"},St={class:"setitem__right"},kt={key:1,class:"setitem__label"},Vt=O({__name:"SetItem",props:{check:{type:Boolean,default:!1},programSet:{},trainingExercice:{}},setup(_){const r=_,V=q(),{getComputedSet:n,isFirstSetTypeValid:E}=ke(),a=ae(),l=J(!1),o=J(!1),s=v(()=>{var U,B;return(B=(U=g.value)==null?void 0:U.displayable_set_information)==null?void 0:B.value}),x=v(()=>r.trainingExercice.sets.findIndex(U=>U.id===r.programSet.id)),f=v(()=>x.value+1),t=v(()=>a.exercices.find(U=>U.id===r.trainingExercice.exercice_id)),g=v(()=>n(r.trainingExercice,r.programSet,t.value)),m=v(()=>r.trainingExercice.is_done);function b(U){U&&(o.value=!1)}const w=v(()=>{if(E(r.trainingExercice,g.value))switch(g.value.type){case S.FSL:return{color:"violet",isBadge:!0};case S.Joker:return{color:"emerald",isBadge:!0}}return{color:null,isBadge:!1}});function I(){const U=o.value;return[[{label:"Editer",icon:"i-heroicons-pencil-square",click:()=>{l.value=!0}}],[{label:U?"Confirmer":"Supprimer",icon:"i-heroicons-trash",iconClass:U?"text-red-400":null,labelClass:U?"text-red-400":null,click:B=>{if(B.preventDefault(),o.value){V.deleteProgramSet(r.programSet,r.trainingExercice);return}o.value=!0}}]]}return(U,B)=>{const h=at,k=ve,R=G,P=ye,j=se,H=Ve;return e(g)?(p(),$("div",{key:0,class:Z(["setitem p-3",{"setitem--check":e(m)}])},[c("div",yt,[c("span",bt,L(e(f)),1),i(h,{class:"setitem__perf",programSet:e(g)},null,8,["programSet"])]),c("div",St,[e(w).isBadge?(p(),C(k,{key:0,size:"xs",label:e(s),color:e(w).color},null,8,["label","color"])):(p(),$("div",kt,L(e(s)),1)),i(P,{ui:{padding:"border-solid",item:{base:"border-solid"}},items:I(),popper:{placement:"bottom-start"},"onUpdate:open":b},{default:d(()=>[i(R,{class:"setitem__options mx-2",icon:"i-heroicons-ellipsis-horizontal",size:"sm",color:"gray",variant:"soft"})]),_:1},8,["items"]),e(m)?(p(),C(j,{key:2,class:"setitem__check",name:"i-solar-check-read-outline"})):T("",!0)]),i(H,{modelValue:e(l),"onUpdate:modelValue":B[0]||(B[0]=K=>re(l)?l.value=K:null),"exercice-set":U.programSet,"training-exercice":r.trainingExercice,"is-edition":!0},null,8,["modelValue","exercice-set","training-exercice"])],2)):T("",!0)}}}),Et=W(Vt,[["__scopeId","data-v-2daa1410"]]),wt={class:"flex items-center justify-between"},$t={class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"},Ut={class:"footer-action justify-center flex px-4 py-4 sm:px-6"},Ct=O({__name:"AddExercicePopin",props:{modelValue:{type:Boolean,default:!1},trainingExercice:{},isRecommendation:{type:Boolean},exercicesList:{}},emits:["update:modelValue"],setup(_,{emit:r}){const V=r,n=_,E=q(),a=J(null);function l(){V("update:modelValue",!1)}function o(){var g;let t=JSON.parse(JSON.stringify(n.trainingExercice));if(t.exercice_id=(g=a.value)==null?void 0:g.id,t.sets=[...(t==null?void 0:t.default_sets)||[]],n.isRecommendation){const m=t.recommended_training_exercices.find(b=>{var w;return b.exercice_id===((w=a.value)==null?void 0:w.id)});m!=null&&m.default_sets&&(t.sets=[...(m==null?void 0:m.default_sets)||[]])}t.is_done=!1,E.updateTrainingExercice(t),l()}const s=v(()=>n.trainingExercice.exercice_id?"Changer d'exercice":"Ajouter un exercice"),x=v(()=>n.isRecommendation?"Recommandations du coach :":"Exercices");me(()=>n.modelValue,t=>{t||(a.value=null)});const f=v(()=>{let t="items-center px-0 pb-0 pt-14",g="rounded-b-none";return n.isRecommendation&&(t+=" h-full",g+=" h-full"),{container:t,height:g}});return(t,g)=>{const m=G,b=Fe,w=ge,I=he;return p(),C(I,{"model-value":n.modelValue,"onUpdate:modelValue":l,ui:e(f)},{default:d(()=>[i(w,{ui:{base:"h-full flex flex-col",body:{base:"border-solid flex-1 border-b-none"},footer:{base:"sticky bottom-0 bg-white",padding:"p-0"}}},{header:d(()=>[c("div",wt,[c("h3",$t,L(e(s)),1),i(m,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",onClick:l})])]),footer:d(()=>[c("div",Ut,[de(t.$slots,"footer-action",{},void 0,!0),i(m,{type:"button",disabled:!e(a),color:e(a)?"primary":"gray",onClick:o},{default:d(()=>[N("Valider")]),_:1},8,["disabled","color"])])]),default:d(()=>[i(b,{muscle:"All",selectable:!0,"selected-exercice":e(a),"onUpdate:selectedExercice":g[0]||(g[0]=U=>re(a)?a.value=U:null),title:e(x),filterable:!n.isRecommendation,"exercices-list":n.exercicesList},null,8,["selected-exercice","title","filterable","exercices-list"]),de(t.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["model-value","ui"])}}}),It=W(Ct,[["__scopeId","data-v-f176b8d6"]]),Rt={key:0,class:"c-accordion__container"},Lt={class:"c-accordion-heading"},Tt={class:"c-accordion-heading__content"},Bt={class:"c-accordion-heading__left"},Ft={class:"text-sm"},Dt={class:"c-accordion-heading__trailing"},Pt={class:"c-accordion-heading__content"},Mt={class:"c-accordion-heading__left"},Nt={class:"c-accordion-heading__trailing"},Jt={class:"flex justify-center"},At=O({__name:"TrainingExercice",props:{trainingExercice:{},trainingIndex:{},supersetUp:{type:Boolean,default:!1},supersetDown:{type:Boolean,default:!1}},setup(_){const r=_,V=ae(),n=q(),E=J(!1),a=J(!1),l=J(!1),o=J(!1),s=v(()=>V.exercices.find(h=>h.id===r.trainingExercice.exercice_id)),x=v(()=>r.trainingExercice.recommended_training_exercices.map(k=>V.exercices.find(P=>P.id===k.exercice_id)).filter(k=>k&&k.id!==r.trainingExercice.exercice_id)),f=v(()=>V.exercices.filter(h=>!r.trainingExercice.recommended_training_exercices.map(P=>P.exercice_id).includes(h.id)&&h.id!==r.trainingExercice.exercice_id)),t=v(()=>!!x.value.length),g=v(()=>r.supersetDown||r.supersetUp);function m(){const h=JSON.parse(JSON.stringify(r.trainingExercice));h.is_done=!h.is_done,n.updateTrainingExercice(h)}function b(h){a.value=h,l.value=!h}function w(h){if(!h){l.value=!1,a.value=!1;return}l.value=h,a.value=!h}function I(h){if(t.value){w(h);return}b(h)}function U(h){h&&(o.value=!1)}function B(){const h=o.value;return[[{label:"Changer d'exercice",icon:"i-solar-refresh-outline",click:()=>{I(!0)}}],[{label:h?"Confirmer":"Supprimer",icon:"i-heroicons-trash",iconClass:h?"text-red-400":null,labelClass:h?"text-red-400":null,click:k=>{if(k.preventDefault(),o.value){const R=JSON.parse(JSON.stringify(r.trainingExercice));R.exercice_id=null,n.updateTrainingExercice(R);return}o.value=!0}}]]}return(h,k)=>{const R=G,P=xe,j=ve,H=ye,K=se,ne=Et,oe=De,ie=Ve,y=It;return p(),$("div",{class:Z(["c-accordion",{"c-accordion--top-radiusless":h.supersetUp,"c-accordion--bottom-radiusless":h.supersetDown}])},[e(s)?(p(),C(oe,{key:1,items:[r.trainingExercice],ui:{container:"c-accordion__container",item:{padding:"p-0"}}},{default:d(({item:u,index:M,open:Q})=>[i(R,{color:"gray",variant:"ghost",class:Z(["c-accordion-heading",{"c-accordion-heading--active":Q,"c-accordion-heading--check":u.is_done}]),ui:{}},{leading:d(()=>[c("div",{onClick:ue(m,["stop"]),class:"c-accordion__leading p-3"},[i(P,{color:"primary","model-value":u.is_done,ui:{}},null,8,["model-value"])])]),default:d(()=>[c("div",Pt,[c("div",Mt,[c("span",null,L(h.trainingIndex+1)+". "+L(e(s).name),1)]),c("div",Nt,[e(g)?(p(),C(j,{key:0,color:"white",variant:"solid",size:"xs"},{default:d(()=>[N("Superset")]),_:1})):T("",!0),i(H,{onClick:k[1]||(k[1]=ue(()=>{},["prevent","stop"])),ui:{padding:"border-solid",item:{base:"border-solid"}},items:B(),popper:{placement:"bottom-start"},"onUpdate:open":U},{default:d(()=>[i(R,{class:"setitem__options mx-2",icon:"i-solar-menu-dots-bold",size:"sm",color:"gray",variant:"soft"})]),_:1},8,["items"]),i(K,{name:"i-heroicons-chevron-right-20-solid",class:"c-accordion-heading__chevron"})])])]),_:2},1032,["class"])]),item:d(({item:u})=>[(p(!0),$(A,null,fe(u.sets,M=>(p(),C(ne,{key:M.id,"program-set":M,"training-exercice":u},null,8,["program-set","training-exercice"]))),128)),i(R,{onClick:k[2]||(k[2]=M=>E.value=!0),icon:"i-heroicons-pencil-square",variant:"soft",label:"Créer une série",class:"mt-3 mb-6 mx-3",trailing:!1,color:u.is_done?"white":"primary",disabled:u.is_done},null,8,["color","disabled"])]),_:1},8,["items"])):(p(),$("div",Rt,[c("div",Lt,[c("div",Tt,[c("div",Bt,[c("span",Ft,"Exercice "+L(h.trainingIndex+1),1)]),c("div",Dt,[i(R,{icon:"i-heroicons-plus-circle",onClick:k[0]||(k[0]=u=>I(!0))},{default:d(()=>[N("Ajouter")]),_:1})])])])])),i(ie,{modelValue:e(E),"onUpdate:modelValue":k[3]||(k[3]=u=>re(E)?E.value=u:null),"training-exercice":r.trainingExercice,"is-edition":!1},null,8,["modelValue","training-exercice"]),i(y,{"onUpdate:modelValue":w,"model-value":e(l),"training-exercice":r.trainingExercice,"is-recommendation":!0,"exercices-list":e(x)},{default:d(()=>[c("div",Jt,[i(R,{variant:"ghost",icon:"i-heroicons-plus",onClick:k[4]||(k[4]=u=>b(!0))},{default:d(()=>[N("Choisir un autre exercice")]),_:1})])]),_:1},8,["model-value","training-exercice","exercices-list"]),i(y,{"onUpdate:modelValue":w,"model-value":e(a),"training-exercice":r.trainingExercice,"exercices-list":e(f)},Ie({_:2},[e(t)?{name:"footer-action",fn:d(()=>[i(R,{type:"button",icon:"i-heroicons-arrow-left",class:"mr-3",variant:"soft",onClick:k[5]||(k[5]=u=>b(!1))},{default:d(()=>[N("Retour")]),_:1})]),key:"0"}:void 0]),1032,["model-value","training-exercice","exercices-list"])],2)}}}),Ot=O({__name:"index",setup(_){const r=q(),V=Je(),n=v(()=>r.currentTraining.training_exercices);function E(l){const o=n.value[l],s=n.value[l-1],x=[o.id,s.id];V.getSupersetExercice(x)?V.deleteSupersetExercice(x):V.addSupersetExercice(x)}function a(l){if(l===0||l>n.value.length-1)return!1;const o=n.value[l],s=n.value[l-1],x=[o.id,s.id];return!!V.getSupersetExercice(x)}return(l,o)=>{const s=Ue,x=He,f=Ze,t=At;return p(),$("div",null,[i(s,{title:"Entrainements"}),c("div",null,[i(x),i(Re,{mode:"out-in",name:"slide-fade"},{default:d(()=>[(p(),$("div",{key:e(r).currentTraining.id},[(p(!0),$(A,null,fe(e(n),(g,m)=>(p(),$(A,{key:g.id},[m!==0?(p(),C(f,{key:0,"onUpdate:modelValue":b=>E(m),"model-value":a(m)},null,8,["onUpdate:modelValue","model-value"])):T("",!0),i(t,{"training-exercice":g,"training-index":m,"superset-down":a(m+1),"superset-up":a(m)},null,8,["training-exercice","training-index","superset-down","superset-up"])],64))),128))]))]),_:1})])])}}}),Ht=W(Ot,[["__scopeId","data-v-35731d33"]]);export{Ht as default};
